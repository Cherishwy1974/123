<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1920, initial-scale=1.0">
    <title>06_6.1_å®šç§¯åˆ†çš„æ¦‚å¿µä»‹ç» (æ‰©å±•ç‰ˆ)</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&display=swap" rel="stylesheet">
    <script>
        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$', '$$'], ['\\[', '\\]']], processEscapes: true, processEnvironments: true },
            svg: { fontCache: 'global' },
            startup: { pageReady: () => { return MathJax.startup.defaultPageReady().then(() => { console.log('âœ… MathJaxå·²åŠ è½½'); }); } }
        };
    </script>
    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { width: 100%; height: 100%; margin: 0; padding: 0; }
        body { font-family: 'Noto Serif SC', serif; background: #1a1a2e; overflow: hidden; height: 100vh; width: 100vw; }
        .blackboard { width: 100vw; height: 100vh; background: #1a1a2e; position: relative; border: 10px solid #795548; margin: 0; }
        .avatar-container { position: fixed; top: 60%; left: 50%; transform: translate(-50%, -50%); width: 975px; height: 1105px; overflow: hidden; z-index: 50; pointer-events: none; background: transparent; }
        .wrapper { width: 100%; height: 100%; background: transparent; pointer-events: auto; }
        .slide-container { width: 100%; height: 100%; position: relative; }
        .slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; visibility: hidden; transition: opacity 0.6s ease-in-out; display: flex; justify-content: center; align-items: center; padding: 2rem; background-color: transparent; }
        .slide.active { opacity: 1; visibility: visible; }
        .slide-content { display: flex; flex-direction: row; gap: 2rem; width: 100%; height: 95%; }
        .chalkboard { flex: 0 0 45%; padding: 20px; display: flex; flex-direction: column; justify-content: center; overflow-y: auto; }
        .chalkboard h2 { color: #f1c40f; border-bottom: 2px solid #f39c12; font-size: 28px; padding-bottom: 10px; margin-bottom: 20px; }
        .chalkboard h3 { color: #1abc9c; font-size: 22px; margin-top: 20px; margin-bottom: 10px; }
        .chalkboard p, .chalkboard li { color: #e0e0e0; font-size: 18px; line-height: 1.8; margin: 8px 0; }
        .chalkboard strong { color: #e74c3c; }
        .math-formula { background-color: rgba(0,0,0,0.2); padding: 15px; border-radius: 5px; border-left: 4px solid #f39c12; font-size: 20px; color: #1abc9c; text-align: center; margin: 15px 0; }
        .visualization { flex: 1; padding: 20px; display: flex; justify-content: center; align-items: center; overflow: hidden; }
        .control-bar { position: fixed; left: -9999px; top: 50%; transform: translateY(-50%); width: 270px; background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(15px); display: flex; flex-direction: column; gap: 12px; z-index: 200; border-radius: 0 20px 20px 0; padding: 25px 20px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2); border: 1px solid rgba(255, 255, 255, 0.2); }
        .btn { padding: 14px 22px; background: rgba(255, 255, 255, 0.25); color: #333; border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 12px; cursor: pointer; font-size: 14px; font-weight: 600; width: 100%; text-align: center; }
        .btn.primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; }
        .subtitle-area { position: absolute; bottom: 20px; left: 50px; right: 50px; min-height: 50px; background: rgba(0,0,0,0.8); border-radius: 8px; display: flex; align-items: center; justify-content: center; z-index: 60; color: white; font-size: 23px; text-align: center; padding: 15px 20px; line-height: 1.4; }
        .status-indicator { position: absolute; top: 10px; right: 10px; padding: 5px 10px; background: rgba(0,0,0,0.5); color: white; border-radius: 5px; font-size: 16px; z-index: 100; display: none; }
        .status-indicator.connected { background: rgba(76, 175, 80, 0.8); display: block; }
        .status-indicator.error { background: rgba(244, 67, 54, 0.8); display: block; }
        .status-indicator.connecting { background: rgba(255, 152, 0, 0.8); display: block; }
    </style>
</head>
<body class="blackboard">
    <div class="status-indicator" id="statusIndicator">ç­‰å¾…è¿æ¥</div>
    <div class="avatar-container"><div class="wrapper" id="avatarWrapper"></div></div>
    <div class="slide-container">

        <!-- Page 1: Title -->
        <div class="slide active">
            <div class="slide-content">
                <div class="chalkboard" style="text-align: center;">
                    <h1 style="font-size: 2.8rem; font-weight: bold; color: #f1c40f; text-shadow: 0 0 10px rgba(241, 196, 15, 0.6);">å®šç§¯åˆ†çš„æ¦‚å¿µ</h1>
                    <p style="font-size: 1.2rem; color: #bdc3c7; margin-top: 1rem;">ç¬¬6ç«  - ä»è¿‘ä¼¼åˆ°ç²¾ç¡®çš„é£è·ƒ</p>
                    <div style="margin-top: 2.5rem; text-align: left; display: inline-block;">
                        <p style="font-size: 1rem; margin: 0.8rem 0; color: #e0e0e0;">âœ“ æ›²è¾¹æ¢¯å½¢é¢ç§¯é—®é¢˜</p>
                        <p style="font-size: 1rem; margin: 0.8rem 0; color: #e0e0e0;">âœ“ åˆ†å‰²ã€è¿‘ä¼¼ã€æ±‚å’Œã€å–æé™</p>
                        <p style="font-size: 1rem; margin: 0.8rem 0; color: #e0e0e0;">âœ“ å®šç§¯åˆ†çš„å‡ ä½•æ„ä¹‰ä¸æ€§è´¨</p>
                        <p style="font-size: 1rem; margin: 0.8rem 0; color: #e0e0e0;">âœ“ ç‰©ç†åº”ç”¨å®ä¾‹</p>
                    </div>
                </div>
                <div class="visualization">
                    <svg viewBox="0 0 600 500" class="w-full h-full">
                        <path d="M 150 350 Q 200 200 250 250 T 350 300 T 450 320 L 450 350 L 150 350 Z" fill="url(#grad1)"></path>
                        <defs><linearGradient id="grad1" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#2ecc71;stop-opacity:0.8"></stop><stop offset="100%" style="stop-color:#27ae60;stop-opacity:0.3"></stop></linearGradient></defs>
                        <text fill="#2ecc71" font-family="serif" font-size="70" text-anchor="middle" x="300" y="150">âˆ«</text>
                        <text fill="#ecf0f1" font-size="24" text-anchor="middle" x="300" y="420">ä»è¿‘ä¼¼åˆ°ç²¾ç¡®</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 2: The Problem -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>é—®é¢˜çš„æå‡ºï¼šæ›²è¾¹æ¢¯å½¢é¢ç§¯</h2>
                    <p>æˆ‘ä»¬çŸ¥é“å¦‚ä½•è®¡ç®—çŸ©å½¢ã€ä¸‰è§’å½¢ã€æ¢¯å½¢çš„é¢ç§¯ã€‚</p>
                    <p>ä½†å¦‚æœä¸€ä¸ªå›¾å½¢çš„è¾¹ç•Œæ˜¯<strong>æ›²çº¿</strong>ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•è®¡ç®—å®ƒçš„é¢ç§¯å‘¢ï¼Ÿ</p>
                    <p>ä¾‹å¦‚ï¼Œç”±æ›²çº¿ $y=f(x)$ï¼Œç›´çº¿ $x=a, x=b$ åŠ $x$ è½´æ‰€å›´æˆçš„å›¾å½¢ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º<strong>æ›²è¾¹æ¢¯å½¢</strong>ã€‚</p>
                    <p style="margin-top: 2rem; color: #e74c3c;">æˆ‘ä»¬å·²æœ‰çš„å‡ ä½•å…¬å¼ï¼Œå¯¹æ­¤æ— èƒ½ä¸ºåŠ›ã€‚è¿™æ¿€å‘äº†å®šç§¯åˆ†æ€æƒ³çš„è¯ç”Ÿã€‚</p>
                </div>
                <div class="visualization">
                     <svg viewBox="0 0 600 500" class="w-full h-full">
                        <text fill="#f39c12" font-size="28" text-anchor="middle" x="300" y="60">å¦‚ä½•æ±‚â€œæ›²â€çš„é¢ç§¯ï¼Ÿ</text>
                        <path d="M 150 350 Q 250 150, 450 250 L 450 350 Z" fill="rgba(46,204,113,0.3)" stroke="#2ecc71" stroke-width="2"></path>
                        <path d="M 150 350 Q 250 150, 450 250" fill="none" stroke="#2ecc71" stroke-width="4"></path>
                        <line x1="150" y1="350" x2="450" y2="350" stroke="#ecf0f1" stroke-width="2"></line>
                        <line x1="150" y1="350" x2="150" y2="280" stroke="#ecf0f1" stroke-width="2"></line>
                        <text fill="#ecf0f1" font-size="18" text-anchor="middle" x="150" y="370">a</text>
                        <text fill="#ecf0f1" font-size="18" text-anchor="middle" x="450" y="370">b</text>
                        <text fill="#f1c40f" font-size="48" text-anchor="middle" x="300" y="300">?</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 3: The Strategy -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>æ ¸å¿ƒç­–ç•¥ï¼šåŒ–æ›²ä¸ºç›´ï¼Œç§¯å°‘æˆå¤š</h2>
                    <p>é¢å¯¹â€œæ›²â€çš„å›°éš¾ï¼Œä¸€ä¸ªè‡ªç„¶çš„æƒ³æ³•æ˜¯ï¼š</p>
                    <p style="color: #f39c12; font-size: 22px; text-align: center;">ç”¨æˆ‘ä»¬ç†Ÿæ‚‰çš„â€œç›´â€æ¥è¿‘ä¼¼â€œæ›²â€ã€‚</p>
                    <p>æˆ‘ä»¬å¯ä»¥å°†æ›²è¾¹æ¢¯å½¢åˆ†å‰²æˆè®¸å¤šéå¸¸çª„çš„<strong>å°çŸ©å½¢</strong>ã€‚æ¯ä¸ªå°çŸ©å½¢çš„é¢ç§¯éƒ½æ˜“äºè®¡ç®—ã€‚</p>
                    <p>å°†æ‰€æœ‰è¿™äº›å°çŸ©å½¢çš„é¢ç§¯åŠ èµ·æ¥ï¼Œå°±å¯ä»¥å¾—åˆ°æ›²è¾¹æ¢¯å½¢é¢ç§¯çš„ä¸€ä¸ª<strong>è¿‘ä¼¼å€¼</strong>ã€‚</p>
                </div>
                <div class="visualization">
                    <svg class="svg-animation" viewbox="0 0 700 600" style="transform: scale(1.5); transform-origin: center center;">
                        <path d="M 100 380 Q 250 180, 400 280 T 600 130" fill="rgba(255,107,107,0.2)" stroke="#FF6B6B" stroke-width="4"></path>
                        <g>
                            <rect fill="rgba(78,205,196,0.6)" height="150" rx="3" stroke="#4ECDC4" stroke-width="2" width="100" x="150" y="330"></rect>
                            <rect fill="rgba(78,205,196,0.6)" height="250" rx="3" stroke="#4ECDC4" stroke-width="2" width="100" x="250" y="230"></rect>
                            <rect fill="rgba(78,205,196,0.6)" height="225" rx="3" stroke="#4ECDC4" stroke-width="2" width="100" x="350" y="255"></rect>
                            <rect fill="rgba(78,205,196,0.6)" height="300" rx="3" stroke="#4ECDC4" stroke-width="2" width="100" x="450" y="180"></rect>
                        </g>
                        <text fill="#4ECDC4" font-size="20" font-weight="bold" text-anchor="middle" x="350" y="550">ç”¨å°çŸ©å½¢è¿‘ä¼¼</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 4: Step 1 -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>å®šç§¯åˆ†æ€æƒ³å››éƒ¨æ›²ä¹‹ä¸€ï¼šåˆ†å‰²</h2>
                    <h3>ç¬¬ä¸€æ­¥ï¼šåˆ†å‰² (Partition)</h3>
                    <p>å°†åŒºé—´ $[a, b]$ ä»»æ„åœ°åˆ†å‰²æˆ $n$ ä¸ªå°åŒºé—´ï¼š</p>
                    <div class="math-formula">
                        $$[x_0, x_1], [x_1, x_2], \dots, [x_{n-1}, x_n]$$
                    </div>
                    <p>å…¶ä¸­ $a=x_0 < x_1 < \dots < x_n = b$ã€‚</p>
                    <p>æ¯ä¸ªå°åŒºé—´çš„é•¿åº¦è®°ä¸º $\Delta x_i = x_i - x_{i-1}$ã€‚</p>
                    <p style="color:#95a5a6">è¿™ç›¸å½“äºæŠŠæ›²è¾¹æ¢¯å½¢çš„åº•è¾¹åˆ‡æˆäº†å¾ˆå¤šå°æ®µã€‚</p>
                </div>
                <div class="visualization">
                     <svg viewBox="0 0 600 500" class="w-full h-full">
                        <text fill="#f39c12" font-size="28" text-anchor="middle" x="300" y="60">ç¬¬ä¸€æ­¥ï¼šåˆ†å‰²åŒºé—´</text>
                        <line x1="100" y1="250" x2="500" y2="250" stroke="#ecf0f1" stroke-width="3"></line>
                        <line x1="100" y1="245" x2="100" y2="255" stroke="#ecf0f1" stroke-width="3"></line>
                        <text fill="#ecf0f1" font-size="18" text-anchor="middle" x="100" y="280">a=xâ‚€</text>
                        <line x1="160" y1="245" x2="160" y2="255" stroke="#ecf0f1" stroke-width="3"></line>
                        <text fill="#ecf0f1" font-size="18" text-anchor="middle" x="160" y="280">xâ‚</text>
                        <line x1="250" y1="245" x2="250" y2="255" stroke="#ecf0f1" stroke-width="3"></line>
                        <text fill="#ecf0f1" font-size="18" text-anchor="middle" x="250" y="280">xâ‚‚</text>
                        <text fill="#ecf0f1" font-size="18" text-anchor="middle" x="350" y="250">...</text>
                         <line x1="500" y1="245" x2="500" y2="255" stroke="#ecf0f1" stroke-width="3"></line>
                        <text fill="#ecf0f1" font-size="18" text-anchor="middle" x="500" y="280">b=xâ‚™</text>
                        
                        <line x1="160" y1="320" x2="250" y2="320" stroke="#2ecc71" stroke-width="2"></line>
                        <line x1="160" y1="315" x2="160" y2="325" stroke="#2ecc71" stroke-width="2"></line>
                        <line x1="250" y1="315" x2="250" y2="325" stroke="#2ecc71" stroke-width="2"></line>
                        <text fill="#2ecc71" font-size="18" text-anchor="middle" x="205" y="350">Î”xâ‚‚</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 5: Step 2 -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>å®šç§¯åˆ†æ€æƒ³å››éƒ¨æ›²ä¹‹äºŒï¼šè¿‘ä¼¼</h2>
                    <h3>ç¬¬äºŒæ­¥ï¼šè¿‘ä¼¼ (Approximation)</h3>
                    <p>åœ¨æ¯ä¸ªå°åŒºé—´ $[x_{i-1}, x_i]$ ä¸Šï¼Œä»»å–ä¸€ç‚¹ $\xi_i$ã€‚</p>
                    <p>æˆ‘ä»¬ç”¨ä¸€ä¸ª<strong>é«˜ä¸º $f(\xi_i)$ã€å®½ä¸º $\Delta x_i$ çš„å°çŸ©å½¢</strong>ï¼Œæ¥è¿‘ä¼¼ä»£æ›¿ç›¸åº”çš„å°æ›²è¾¹æ¢¯å½¢ã€‚</p>
                    <p>è¿™ä¸ªå°çŸ©å½¢çš„é¢ç§¯ä¸ºï¼š</p>
                    <div class="math-formula">
                        $$\text{å°çŸ©å½¢é¢ç§¯} \approx f(\xi_i) \cdot \Delta x_i$$
                    </div>
                </div>
                <div class="visualization">
                    <svg viewBox="0 0 600 500" class="w-full h-full">
                        <text fill="#f39c12" font-size="28" text-anchor="middle" x="300" y="60">ç¬¬äºŒæ­¥ï¼šè¿‘ä¼¼</text>
                        <path d="M 150 400 Q 250 200, 450 300" fill="none" stroke="#3498db" stroke-width="3"></path>
                        <rect x="200" y="250" width="100" height="150" fill="rgba(46,204,113,0.3)" stroke="#2ecc71"></rect>
                        <line x1="200" y1="400" x2="300" y2="400" stroke="#ecf0f1" stroke-width="2"></line>
                        <circle cx="270" cy="400" r="4" fill="#e74c3c"></circle>
                        <text fill="#e74c3c" font-size="18" text-anchor="middle" x="270" y="420">Î¾áµ¢</text>
                        <line x1="270" y1="400" x2="270" y2="250" stroke="#e74c3c" stroke-dasharray="3,3"></line>
                        <text fill="#2ecc71" font-size="18" x="310" y="325">é«˜ f(Î¾áµ¢)</text>
                        <text fill="#2ecc71" font-size="18" text-anchor="middle" x="250" y="440">å®½ Î”xáµ¢</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 6: Step 3 -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>å®šç§¯åˆ†æ€æƒ³å››éƒ¨æ›²ä¹‹ä¸‰ï¼šæ±‚å’Œ</h2>
                    <h3>ç¬¬ä¸‰æ­¥ï¼šæ±‚å’Œ (Summation)</h3>
                    <p>å°†æ‰€æœ‰ $n$ ä¸ªå°çŸ©å½¢çš„é¢ç§¯åŠ èµ·æ¥ï¼Œå¾—åˆ°æ›²è¾¹æ¢¯å½¢é¢ç§¯çš„ä¸€ä¸ªè¿‘ä¼¼å€¼ã€‚è¿™ä¸ªå’Œæˆ‘ä»¬ç§°ä¸º<strong>é»æ›¼å’Œ (Riemann Sum)</strong>ã€‚</p>
                    <div class="math-formula">
                        $$\text{æ€»é¢ç§¯} \approx \sum_{i=1}^{n} f(\xi_i) \Delta x_i$$
                    </div>
                     <p>æ˜¾ç„¶ï¼ŒçŸ©å½¢åˆ’åˆ†å¾—è¶Šç»†ï¼ˆå³ $n$ è¶Šå¤§ï¼‰ï¼Œè¿™ä¸ªè¿‘ä¼¼å’Œå°±è¶Šæ¥è¿‘çœŸå®é¢ç§¯ã€‚</p>
                </div>
                <div class="visualization">
                    <svg class="svg-animation" viewbox="0 0 700 600" style="transform: scale(1.5); transform-origin: center center;">
                        <path d="M 100 380 Q 250 180, 400 280 T 600 130" fill="none" stroke="#FF6B6B" stroke-width="4"></path>
                        <g>
                            <rect fill="rgba(78,205,196,0.6)" height="150" width="100" x="150" y="330"></rect>
                            <rect fill="rgba(78,205,196,0.6)" height="250" width="100" x="250" y="230"></rect>
                            <rect fill="rgba(78,205,196,0.6)" height="225" width="100" x="350" y="255"></rect>
                            <rect fill="rgba(78,205,196,0.6)" height="300" width="100" x="450" y="180"></rect>
                        </g>
                        <text fill="#4ECDC4" font-size="24" font-weight="bold" text-anchor="middle" x="350" y="100">é¢ç§¯ â‰ˆ Aâ‚ + Aâ‚‚ + Aâ‚ƒ + Aâ‚„</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 7: Step 4 -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>å®šç§¯åˆ†æ€æƒ³å››éƒ¨æ›²ä¹‹å››ï¼šå–æé™</h2>
                    <h3>ç¬¬å››æ­¥ï¼šå–æé™ (Limit)</h3>
                    <p>å½“åˆ†å‰²æ— é™åŠ ç»†ï¼Œå³æ¯ä¸ªå°çŸ©å½¢çš„å®½åº¦éƒ½è¶‹äº0æ—¶ï¼Œè¿™äº›çŸ©å½¢é¢ç§¯çš„å’Œçš„æé™ï¼Œå°±æ˜¯æˆ‘ä»¬è¦æ±‚çš„æ›²è¾¹æ¢¯å½¢çš„<strong>ç²¾ç¡®é¢ç§¯</strong>ã€‚</p>
                    <p>æˆ‘ä»¬è®°æ‰€æœ‰å°åŒºé—´é•¿åº¦çš„æœ€å¤§å€¼ä¸º $\lambda = \max\{\Delta x_i\}$ã€‚</p>
                    <p>å½“ $\lambda \to 0$ æ—¶ï¼Œé»æ›¼å’Œçš„æé™å°±æ˜¯å®šç§¯åˆ†ã€‚</p>
                </div>
                <div class="visualization">
                     <svg class="svg-animation" viewbox="0 0 700 600" style="transform: scale(1.5); transform-origin: center center;">
                        <path d="M 100 350 C 200 200, 300 250, 400 200 S 500 250, 600 150" fill="rgba(78,205,196,0.3)" stroke="#4ECDC4" stroke-width="4"></path>
                        <text fill="#FFE066" font-size="24" font-weight="bold" text-anchor="middle" x="350" y="100">å½“ Î”x â†’ 0, çŸ©å½¢æ€»é¢ç§¯ â†’ æ›²çº¿ä¸‹é¢ç§¯</text>
                    </svg>
                </div>
            </div>
        </div>
        
        <!-- Page 8: Formal Definition -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>å®šç§¯åˆ†çš„æ­£å¼å®šä¹‰</h2>
                    <p>ç»¼åˆä»¥ä¸Šå››æ­¥ï¼Œæˆ‘ä»¬ç»™å‡ºå®šç§¯åˆ†çš„æ­£å¼å®šä¹‰ï¼š</p>
                    <div class="math-formula">
                        $$\int_a^b f(x) \, dx = \lim_{\lambda \to 0} \sum_{i=1}^{n} f(\xi_i) \Delta x_i$$
                    </div>
                    <p>è¿™ä¸ªå®šä¹‰å‘Šè¯‰æˆ‘ä»¬ï¼Œå®šç§¯åˆ†æœ¬è´¨ä¸Šæ˜¯â€œæ— é™æ±‚å’Œâ€çš„ç»“æœã€‚</p>
                    <p>å½“è¿™ä¸ªæé™å­˜åœ¨æ—¶ï¼Œæˆ‘ä»¬ç§°å‡½æ•° $f(x)$ åœ¨åŒºé—´ $[a, b]$ ä¸Šæ˜¯<strong>å¯ç§¯çš„</strong>ã€‚</p>
                </div>
                 <div class="visualization">
                     <svg viewBox="0 0 600 500" class="w-full h-full">
                        <text fill="#f39c12" font-size="28" text-anchor="middle" x="300" y="60">å®šç§¯åˆ†çš„å®šä¹‰</text>
                        <rect x="100" y="120" width="400" height="100" fill="rgba(231,76,60,0.2)" stroke="#e74c3c"></rect>
                        <text x="300" y="175" fill="#ecf0f1" font-size="24" text-anchor="middle">é»æ›¼å’Œ: Î£ f(Î¾áµ¢)Î”xáµ¢</text>
                        
                        <text x="300" y="270" fill="#f39c12" font-size="40">â†“ (Î»â†’0)</text>
                        
                        <rect x="100" y="320" width="400" height="100" fill="rgba(46,204,113,0.2)" stroke="#2ecc71"></rect>
                        <text x="300" y="375" fill="#2ecc71" font-size="32" text-anchor="middle">å®šç§¯åˆ†: âˆ«â‚áµ‡ f(x)dx</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 9: Notation Breakdown -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>å®šç§¯åˆ†ç¬¦å·è§£æ</h2>
                    <p>è®©æˆ‘ä»¬æ¥ä»”ç»†çœ‹çœ‹å®šç§¯åˆ†çš„æ¯ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼š</p>
                    <div class="math-formula" style="font-size:28px">
                        $$\int_a^b f(x) \, dx$$
                    </div>
                    <ul>
                        <li>$\int$: <strong>ç§¯åˆ†å·</strong>ï¼Œæºè‡ªæ‹‰é•¿çš„å­—æ¯ 'S'ï¼Œä»£è¡¨æ±‚å’Œ(Sum)ã€‚</li>
                        <li>$a, b$: <strong>ç§¯åˆ†ä¸‹é™</strong>å’Œ<strong>ç§¯åˆ†ä¸Šé™</strong>ï¼Œå®šä¹‰äº†ç§¯åˆ†çš„åŒºé—´ã€‚</li>
                        <li>$f(x)$: <strong>è¢«ç§¯å‡½æ•°</strong>ï¼Œä»£è¡¨æ›²çº¿çš„é«˜åº¦ã€‚</li>
                        <li>$x$: <strong>ç§¯åˆ†å˜é‡</strong>ã€‚</li>
                        <li>$dx$: <strong>ç§¯åˆ†å¾®å…ƒ</strong>ï¼Œä»£è¡¨æ— é™å°çš„åŒºé—´å®½åº¦ã€‚</li>
                    </ul>
                </div>
                <div class="visualization">
                    <svg viewBox="0 0 600 500" class="w-full h-full">
                        <text fill="#f1c40f" font-size="70" x="150" y="250">âˆ«</text>
                        <text fill="#ecf0f1" font-size="30" x="200" y="300">a</text>
                        <text fill="#ecf0f1" font-size="30" x="200" y="200">b</text>
                        <text fill="#ecf0f1" font-size="40" x="300" y="250">f(x)</text>
                        <text fill="#ecf0f1" font-size="40" x="420" y="250">dx</text>

                        <text fill="#f1c40f" font-size="18" x="150" y="300" text-anchor="middle">ç§¯åˆ†å·</text>
                        <text fill="#ecf0f1" font-size="18" x="240" y="330" text-anchor="middle">ç§¯åˆ†é™</text>
                        <text fill="#ecf0f1" font-size="18" x="300" y="300" text-anchor="middle">è¢«ç§¯å‡½æ•°</text>
                        <text fill="#ecf0f1" font-size="18" x="420" y="300" text-anchor="middle">å¾®å…ƒ</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 10: Geometric Meaning 1 -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>å®šç§¯åˆ†çš„å‡ ä½•æ„ä¹‰ (1)ï¼šé¢ç§¯</h2>
                    <p>å½“è¢«ç§¯å‡½æ•° $f(x)$ åœ¨åŒºé—´ $[a, b]$ ä¸Š<strong>æ’å¤§äºç­‰äº0</strong>æ—¶ ($f(x) \ge 0$)ï¼š</p>
                    <div class="math-formula">
                        $$\int_a^b f(x) \, dx = \text{æ›²è¾¹æ¢¯å½¢çš„é¢ç§¯}$$
                    </div>
                    <p>è¿™æ­£æ˜¯æˆ‘ä»¬æ¨å¯¼å®šç§¯åˆ†æ¦‚å¿µçš„å‡ºå‘ç‚¹ã€‚</p>
                    <p style="color:#95a5a6">å®šç§¯åˆ†æä¾›äº†ä¸€ä¸ªæ™®é€‚çš„ã€ç²¾ç¡®çš„è®¡ç®—ç”±æ›²çº¿å›´æˆå›¾å½¢é¢ç§¯çš„æ–¹æ³•ã€‚</p>
                </div>
                 <div class="visualization">
                    <svg viewBox="0 0 600 500" class="w-full h-full">
                        <path d="M 150 350 Q 250 150, 450 250 L 450 350 Z" fill="rgba(46,204,113,0.3)" stroke="#2ecc71" stroke-width="2"></path>
                        <path d="M 150 350 Q 250 150, 450 250" fill="none" stroke="#2ecc71" stroke-width="4"></path>
                        <line x1="100" y1="350" x2="500" y2="350" stroke="#ecf0f1"></line>
                        <text fill="#2ecc71" font-size="20" text-anchor="middle" x="300" y="150">f(x) â‰¥ 0</text>
                        <text fill="#f1c40f" font-size="24" text-anchor="middle" x="300" y="280">é¢ç§¯A = âˆ«â‚áµ‡ f(x)dx</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 11: Geometric Meaning 2 -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>å®šç§¯åˆ†çš„å‡ ä½•æ„ä¹‰ (2)ï¼šä»£æ•°å’Œ</h2>
                    <p>å¦‚æœ $f(x)$ åœ¨åŒºé—´å†…æœ‰æ­£æœ‰è´Ÿå‘¢ï¼Ÿ</p>
                    <p>å®šç§¯åˆ†ä¼šå°† $x$ è½´<strong>ä¸Šæ–¹</strong>çš„é¢ç§¯ä½œä¸º<strong>æ­£å€¼</strong>ç´¯åŠ ï¼Œå°† $x$ è½´<strong>ä¸‹æ–¹</strong>çš„é¢ç§¯ä½œä¸º<strong>è´Ÿå€¼</strong>ç´¯åŠ ã€‚</p>
                    <p>å› æ­¤ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®šç§¯åˆ†çš„å€¼æ˜¯é¢ç§¯çš„<strong>â€œä»£æ•°å’Œâ€</strong>æˆ–ç§°<strong>â€œå‡€é¢ç§¯â€</strong>ã€‚</p>
                    <div class="math-formula">
                        $$\int_a^b f(x) \, dx = A_{ä¸Š} - A_{ä¸‹}$$
                    </div>
                </div>
                <div class="visualization">
                    <svg viewBox="0 0 600 500" class="w-full h-full">
                        <line x1="50" y1="250" x2="550" y2="250" stroke="#ecf0f1"></line>
                        <path d="M 100 250 C 150 100, 250 100, 300 250 C 350 400, 450 400, 500 250" fill="none" stroke="#3498db" stroke-width="4"></path>
                        <path d="M 100 250 C 150 100, 250 100, 300 250 Z" fill="rgba(46,204,113,0.3)"></path>
                        <path d="M 300 250 C 350 400, 450 400, 500 250 Z" fill="rgba(231,76,60,0.3)"></path>
                        <text fill="#2ecc71" font-size="24" text-anchor="middle" x="200" y="180">Aä¸Š (+)</text>
                        <text fill="#e74c3c" font-size="24" text-anchor="middle" x="400" y="350">Aä¸‹ (-)</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 12: Application -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>ç‰©ç†åº”ç”¨ï¼šå˜é€Ÿç›´çº¿è¿åŠ¨çš„è·¯ç¨‹</h2>
                    <p>å®šç§¯åˆ†çš„ä¸€ä¸ªç»å…¸åº”ç”¨æ˜¯è®¡ç®—å˜é€Ÿç›´çº¿è¿åŠ¨çš„è·¯ç¨‹ã€‚</p>
                    <p>å¦‚æœä¸€ä¸ªç‰©ä½“çš„é€Ÿåº¦å‡½æ•°æ˜¯ $v(t)$ï¼Œé‚£ä¹ˆä»æ—¶åˆ» $t=a$ åˆ° $t=b$ å®ƒæ‰€ç»è¿‡çš„è·¯ç¨‹ $s$ å°±æ˜¯ï¼š</p>
                    <div class="math-formula">
                        $$s = \int_a^b |v(t)| \, dt$$
                    </div>
                    <p>è¿™å¯ä»¥ç†è§£ä¸ºï¼Œæˆ‘ä»¬å°†æ€»æ—¶é—´åˆ†å‰²æˆæ— æ•°ä¸ªå¾®å°æ—¶é—´æ®µ $dt$ï¼Œåœ¨æ¯ä¸ª $dt$ å†…ï¼Œç‰©ä½“è¿‘ä¼¼äºåŒ€é€Ÿè¿åŠ¨ï¼Œè·¯ç¨‹ä¸º $v(t)dt$ã€‚å°†æ‰€æœ‰è¿™äº›å¾®å°è·¯ç¨‹ç´¯åŠ èµ·æ¥ï¼Œå°±æ˜¯æ€»è·¯ç¨‹ã€‚</p>
                </div>
                 <div class="visualization">
                    <svg class="svg-animation" viewbox="0 0 700 600">
                        <text fill="#f39c12" font-size="28" text-anchor="middle" x="350" y="60">é€Ÿåº¦ v(t) â†’ è·¯ç¨‹ s</text>
                        <g transform="translate(150, 380)">
                            <line stroke="#FFE066" stroke-width="2" x1="0" x2="300" y1="150" y2="150"></line>
                            <line stroke="#FFE066" stroke-width="2" x1="0" x2="0" y1="150" y2="0"></line>
                            <polyline fill="none" points="0,100 50,80 100,40 150,70 200,90 250,110 300,100" stroke="#4ECDC4" stroke-width="3"></polyline>
                            <path d="M 0 150 L 0 100 L 50 80 L 100 40 L 150 70 L 200 90 L 250 110 L 300 100 L 300 150 Z" fill="rgba(78,205,196,0.4)"></path>
                            <text fill="#FFE066" font-size="16" text-anchor="middle" x="150" y="170">æ—¶é—´ t</text>
                            <text fill="#4ECDC4" font-size="18" font-weight="bold" text-anchor="middle" x="150" y="75">é¢ç§¯ = è·¯ç¨‹</text>
                        </g>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 13: Properties 1 -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>å®šç§¯åˆ†çš„åŸºæœ¬æ€§è´¨ (1)</h2>
                    <p>å®šç§¯åˆ†æœ‰ä¸€äº›éå¸¸ç›´è§‚å’Œé‡è¦çš„æ€§è´¨ã€‚</p>
                    <div class="math-formula">
                        $$1. \quad \int_a^a f(x) \, dx = 0$$
                    </div>
                    <p><strong>è§£é‡Šï¼š</strong>ç§¯åˆ†åŒºé—´é•¿åº¦ä¸º0ï¼Œé¢ç§¯è‡ªç„¶ä¸º0ã€‚</p>
                    <div class="math-formula">
                        $$2. \quad \int_a^b f(x) \, dx = - \int_b^a f(x) \, dx$$
                    </div>
                    <p><strong>è§£é‡Šï¼š</strong>äº¤æ¢ç§¯åˆ†ä¸Šä¸‹é™ï¼Œç§¯åˆ†å€¼å˜å·ã€‚</p>
                </div>
                <div class="visualization">
                    <svg viewBox="0 0 600 500" class="w-full h-full">
                        <text fill="#f39c12" font-size="28" text-anchor="middle" x="300" y="60">åŸºæœ¬æ€§è´¨</text>
                        <rect x="100" y="120" width="400" height="80" rx="10" fill="rgba(255,255,255,0.1)"></rect>
                        <text x="300" y="165" fill="#ecf0f1" font-size="22" text-anchor="middle">âˆ«â‚áµƒ f(x)dx = 0</text>
                        <rect x="100" y="250" width="400" height="80" rx="10" fill="rgba(255,255,255,0.1)"></rect>
                        <text x="300" y="295" fill="#ecf0f1" font-size="22" text-anchor="middle">âˆ«â‚áµ‡ f(x)dx = - âˆ«áµ‡â‚ f(x)dx</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 14: Properties 2 -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>å®šç§¯åˆ†çš„åŸºæœ¬æ€§è´¨ (2)</h2>
                    <h3>çº¿æ€§æ€§è´¨</h3>
                    <div class="math-formula">
                        $$3. \quad \int_a^b [f(x) \pm g(x)] \, dx = \int_a^b f(x) \, dx \pm \int_a^b g(x) \, dx$$
                    </div>
                     <div class="math-formula">
                        $$4. \quad \int_a^b k f(x) \, dx = k \int_a^b f(x) \, dx \quad (k \text{ä¸ºå¸¸æ•°})$$
                    </div>
                    <h3>åŒºé—´å¯åŠ æ€§</h3>
                     <div class="math-formula">
                        $$5. \quad \int_a^b f(x) \, dx = \int_a^c f(x) \, dx + \int_c^b f(x) \, dx$$
                    </div>
                </div>
                <div class="visualization">
                     <svg viewBox="0 0 600 500" class="w-full h-full">
                         <text fill="#f39c12" font-size="28" text-anchor="middle" x="300" y="60">çº¿æ€§ & å¯åŠ </text>
                        <path d="M 100 350 Q 250 200 500 300" fill="none" stroke="#3498db" stroke-width="3"></path>
                        <path d="M 100 350 L 300 350 L 300 237 Z" fill="rgba(46,204,113,0.3)"></path>
                        <path d="M 300 350 L 500 350 L 500 300 Q 375 300 300 237 Z" fill="rgba(231,76,60,0.3)"></path>
                        <line x1="300" y1="350" x2="300" y2="237" stroke="#ecf0f1" stroke-dasharray="3,3"></line>
                        <text x="100" y="370" fill="#ecf0f1">a</text>
                        <text x="300" y="370" fill="#ecf0f1">c</text>
                        <text x="500" y="370" fill="#ecf0f1">b</text>
                        <text x="200" y="300" fill="#2ecc71" font-size="20">âˆ«â‚á¶œ</text>
                        <text x="400" y="300" fill="#e74c3c" font-size="20">âˆ«á¶œáµ‡</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 15: The Bridge -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>å¦‚ä½•è®¡ç®—å®šç§¯åˆ†ï¼Ÿ</h2>
                    <p>å®šç§¯åˆ†çš„å®šä¹‰æ˜¯ä¸€ä¸ªå¤æ‚çš„æé™è¿‡ç¨‹ï¼Œç”¨å®ƒæ¥ç›´æ¥è®¡ç®—éå¸¸å›°éš¾ã€‚</p>
                    <p>å¹¸è¿çš„æ˜¯ï¼Œå¾®ç§¯åˆ†çš„å¦ä¸€ä¸ªä¼Ÿå¤§æˆæœâ€”â€”<strong>å¾®ç§¯åˆ†åŸºæœ¬å®šç†</strong>â€”â€”ä¸ºæˆ‘ä»¬æ¶èµ·äº†ä¸€åº§æ¡¥æ¢ã€‚</p>
                    <p>å®ƒå°†çœ‹ä¼¼æ— å…³çš„<strong>å®šç§¯åˆ†</strong>ï¼ˆæ±‚é¢ç§¯ï¼‰ä¸<strong>ä¸å®šç§¯åˆ†</strong>ï¼ˆæ±‚åŸå‡½æ•°ï¼‰ç´§å¯†åœ°è”ç³»åœ¨äº†ä¸€èµ·ã€‚</p>
                     <div class="math-formula" style="border-color:#f39c12;">
                        $$\int_a^b f(x) \, dx = F(b) - F(a)$$
                    </div>
                    <p>å…¶ä¸­ $F(x)$ æ˜¯ $f(x)$ çš„ä¸€ä¸ªåŸå‡½æ•°ã€‚è¿™å°†åœ¨ä¸‹ä¸€èŠ‚è¯¾ä¸­è¯¦ç»†è®²è§£ã€‚</p>
                </div>
                <div class="visualization">
                    <svg class="w-full h-full" viewbox="0 0 600 500">
                        <text fill="#f39c12" font-size="28" text-anchor="middle" x="300" y="60">ä»æ¦‚å¿µåˆ°è®¡ç®—çš„æ¡¥æ¢</text>
                        <rect fill="rgba(52,152,219,0.2)" height="120" rx="10" stroke="#3498db" width="220" x="50" y="180"></rect>
                        <text fill="#ecf0f1" font-size="24" text-anchor="middle" x="160" y="235">å®šç§¯åˆ†</text>
                        <text fill="#95a5a6" font-size="16" text-anchor="middle" x="160" y="265">(æ±‚é¢ç§¯)</text>
                        <text fill="#f39c12" font-size="60" text-anchor="middle" x="300" y="255">ğŸŒ‰</text>
                        <rect fill="rgba(46,204,113,0.2)" height="120" rx="10" stroke="#2ecc71" width="220" x="330" y="180"></rect>
                        <text fill="#ecf0f1" font-size="24" text-anchor="middle" x="440" y="235">ä¸å®šç§¯åˆ†</text>
                         <text fill="#95a5a6" font-size="16" text-anchor="middle" x="440" y="265">(æ±‚åŸå‡½æ•°)</text>
                        <text fill="#f1c40f" font-size="22" text-anchor="middle" x="300" y="380">å¾®ç§¯åˆ†åŸºæœ¬å®šç†</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Page 16: Summary -->
        <div class="slide">
            <div class="slide-content">
                <div class="chalkboard">
                    <h2>æœ¬èŠ‚æ€»ç»“</h2>
                    <p>ä»Šå¤©ï¼Œæˆ‘ä»¬ä»ç›´è§‚çš„é¢ç§¯é—®é¢˜å‡ºå‘ï¼Œç†è§£äº†å®šç§¯åˆ†çš„è¯ç”Ÿè¿‡ç¨‹ã€‚</p>
                    <h3>æ ¸å¿ƒæ€æƒ³</h3>
                    <p><strong>åˆ†å‰²ã€è¿‘ä¼¼ã€æ±‚å’Œã€å–æé™ã€‚</strong></p>
                    <h3>æ ¸å¿ƒæ¦‚å¿µ</h3>
                    <ul>
                        <li>å®šç§¯åˆ†æ˜¯<strong>é»æ›¼å’Œçš„æé™</strong>ã€‚</li>
                        <li>å‡ ä½•æ„ä¹‰æ˜¯<strong>é¢ç§¯çš„ä»£æ•°å’Œ</strong>ã€‚</li>
                        <li>å®ƒåœ¨ç‰©ç†ã€å·¥ç¨‹ç­‰é¢†åŸŸæœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚</li>
                    </ul>
                    <p style="margin-top: 2rem;">æˆ‘ä»¬å·²ç»ç†è§£äº†å®šç§¯åˆ†â€œæ˜¯ä»€ä¹ˆâ€ï¼Œä¸‹ä¸€èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•é«˜æ•ˆåœ°è®¡ç®—å®ƒã€‚</p>
                </div>
                <div class="visualization">
                    <svg viewBox="0 0 600 500" class="w-full h-full">
                        <text fill="#f39c12" font-size="32" text-anchor="middle" x="300" y="80">å®šç§¯åˆ† = æ— é™æ±‚å’Œ</text>
                        <path d="M 100 350 C 200 200, 400 400, 500 250" fill="rgba(78,205,196,0.3)" stroke="#4ECDC4" stroke-width="2"></path>
                        <text fill="#ecf0f1" text-anchor="middle" x="300" y="200" font-size="24">åˆ†å‰²â†’è¿‘ä¼¼â†’æ±‚å’Œâ†’å–æé™</text>
                        <text fill="#f1c40f" text-anchor="middle" x="300" y="300" font-size="40">âˆ«â‚áµ‡ f(x)dx</text>
                        <text fill="#e74c3c" text-anchor="middle" x="300" y="400" font-size="22">å‡ ä½•æ„ä¹‰ï¼š(ä»£æ•°)é¢ç§¯</text>
                    </svg>
                </div>
            </div>
        </div>

    </div>
    <div class="subtitle-area" id="subtitleArea">æ¬¢è¿å­¦ä¹ å®šç§¯åˆ†çš„æ¦‚å¿µï¼</div>
    <div class="control-bar">
        <div style="color:#f1c40f;font-weight:bold;margin-bottom:15px;text-align:center;">ç¬¬ <span id="currentSlide">1</span> / <span id="totalSlides">16</span> é¡µ</div>
        <button class="btn" id="prevBtn" onclick="previousSlide()">â¬…ï¸ ä¸Šä¸€é¡µ</button>
        <button class="btn primary" id="startBtn" onclick="startTeaching()">ğŸ€ å¼€å§‹è®²è¯¾</button>
        <button class="btn" id="nextBtn" onclick="nextSlide()">ä¸‹ä¸€é¡µ â¡ï¸</button>
        <button class="btn" onclick="restart()">ğŸ”„ é‡æ–°å¼€å§‹</button>
        <button class="btn" id="autoPlayBtn" onclick="startAutoPlay()">ğŸ¬ è‡ªåŠ¨æ’­æ”¾</button>
    </div>
    <script type="module">
        // Placeholder for SDK import
        // window.playbackFinished = false; try { const { default: AvatarPlatform } = await import('./avatar-sdk-web_3.1.2.1002/index.js'); window.AvatarPlatform = AvatarPlatform; } catch (error) { console.error('âŒ SDKåŠ è½½å¤±è´¥:', error); } window.dispatchEvent(new CustomEvent('sdkReady'));
    </script>
    <script>
        const subtitleScript = {
            "1": "æ¬¢è¿æ¥åˆ°ç¬¬å…­ç« ï¼Œä»Šå¤©æˆ‘ä»¬å¼€å¯ä¸€ä¸ªå…¨æ–°çš„æ¦‚å¿µï¼šå®šç§¯åˆ†ã€‚",
            "2": "æˆ‘ä»¬å¦‚ä½•è®¡ç®—ç”±æ›²çº¿å›´æˆçš„å›¾å½¢é¢ç§¯ï¼Ÿè¿™å°±æ˜¯å®šç§¯åˆ†æ€æƒ³çš„èµ·ç‚¹ã€‚",
            "3": "é¢å¯¹â€œæ›²â€çš„å›°éš¾ï¼Œæˆ‘ä»¬çš„ç­–ç•¥æ˜¯ç”¨ç†Ÿæ‚‰çš„â€œç›´â€ï¼ˆå°çŸ©å½¢ï¼‰å»è¿‘ä¼¼ã€‚",
            "4": "å®šç§¯åˆ†æ€æƒ³çš„ç¬¬ä¸€æ­¥â€œåˆ†å‰²â€ï¼šå°†è¦æ±‚çš„åŒºé—´åˆ‡åˆ†æˆè®¸å¤šå°æ®µã€‚",
            "5": "ç¬¬äºŒæ­¥â€œè¿‘ä¼¼â€ï¼šåœ¨æ¯ä¸ªå°æ®µä¸Šï¼Œç”¨ä¸€ä¸ªçŸ©å½¢å»è¿‘ä¼¼é‚£ä¸€å°å—çš„æ›²è¾¹å›¾å½¢ã€‚",
            "6": "ç¬¬ä¸‰æ­¥â€œæ±‚å’Œâ€ï¼šå°†æ‰€æœ‰å°çŸ©å½¢çš„é¢ç§¯åŠ èµ·æ¥ï¼Œå¾—åˆ°æ€»é¢ç§¯çš„è¿‘ä¼¼å€¼ã€‚",
            "7": "ç¬¬å››æ­¥â€œå–æé™â€ï¼šå½“çŸ©å½¢æ— é™ç»†åˆ†æ—¶ï¼Œè¿‘ä¼¼å’Œçš„æé™å°±æ˜¯ç²¾ç¡®é¢ç§¯ã€‚",
            "8": "è¿™å››æ­¥â€”â€”åˆ†å‰²ã€è¿‘ä¼¼ã€æ±‚å’Œã€å–æé™â€”â€”æœ€ç»ˆæ„æˆäº†å®šç§¯åˆ†çš„æ­£å¼å®šä¹‰ã€‚",
            "9": "å®šç§¯åˆ†çš„ç¬¦å· âˆ«â‚áµ‡ f(x)dx æ¯ä¸€éƒ¨åˆ†éƒ½æœ‰å…¶ç²¾ç¡®çš„å«ä¹‰ã€‚",
            "10": "å½“å‡½æ•°f(x)å¤§äºç­‰äº0æ—¶ï¼Œå®šç§¯åˆ†çš„å‡ ä½•æ„ä¹‰å°±æ˜¯æ›²çº¿ä¸‹æ–¹çš„é¢ç§¯ã€‚",
            "11": "å½“å‡½æ•°æœ‰æ­£æœ‰è´Ÿæ—¶ï¼Œå®šç§¯åˆ†è®¡ç®—çš„æ˜¯xè½´ä¸Šæ–¹ä¸ä¸‹æ–¹åŒºåŸŸé¢ç§¯çš„â€œä»£æ•°å’Œâ€ã€‚",
            "12": "åœ¨ç‰©ç†å­¦ä¸­ï¼Œå¯¹é€Ÿåº¦å‡½æ•°v(t)è¿›è¡Œå®šç§¯åˆ†ï¼Œå°±å¯ä»¥å¾—åˆ°ç‰©ä½“è¿åŠ¨çš„è·¯ç¨‹ã€‚",
            "13": "å®šç§¯åˆ†å…·æœ‰ä¸€äº›éå¸¸ç›´è§‚çš„åŸºæœ¬æ€§è´¨ï¼Œä¾‹å¦‚ç§¯åˆ†åŒºé—´ä¸º0åˆ™ç§¯åˆ†ä¸º0ã€‚",
            "14": "å®šç§¯åˆ†è¿˜æ»¡è¶³çº¿æ€§å’ŒåŒºé—´å¯åŠ æ€§ï¼Œè¿™ä¸ºæˆ‘ä»¬çš„è®¡ç®—æä¾›äº†ä¾¿åˆ©ã€‚",
            "15": "é‚£ä¹ˆå¦‚ä½•è®¡ç®—å®šç§¯åˆ†å‘¢ï¼Ÿå¾®ç§¯åˆ†åŸºæœ¬å®šç†å°†ä¸ºæˆ‘ä»¬æ¶èµ·ä»æ¦‚å¿µåˆ°è®¡ç®—çš„æ¡¥æ¢ã€‚",
            "16": "æ€»ç»“ï¼šå®šç§¯åˆ†çš„æœ¬è´¨æ˜¯â€œæ— é™æ±‚å’Œâ€ï¼Œå®ƒçš„å‡ ä½•æ„ä¹‰æ˜¯é¢ç§¯çš„ä»£æ•°å’Œã€‚"
        };
        const speechScript = {
            "1": "åŒå­¦ä»¬å¥½ï¼æ¬¢è¿æ¥åˆ°ç¬¬å…­ç« çš„å­¦ä¹ ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†å¼€å¯ä¸€ä¸ªå¾®ç§¯åˆ†ä¸­è‡³å…³é‡è¦çš„å…¨æ–°æ¦‚å¿µâ€”â€”å®šç§¯åˆ†ï¼Œå®ƒæ˜¯ä¸€æ¬¡ä»è¿‘ä¼¼åˆ°ç²¾ç¡®çš„ä¼Ÿå¤§é£è·ƒã€‚",
            "2": "æˆ‘ä»¬å­¦ä¹ å‡ ä½•æ—¶ï¼Œä¼šè®¡ç®—å„ç§æ ‡å‡†å›¾å½¢çš„é¢ç§¯ã€‚ä½†å¦‚æœä¸€ä¸ªå›¾å½¢çš„è¾¹ç•Œæ˜¯æ›²çº¿ï¼Œæ¯”å¦‚è¿™æ¡æŠ›ç‰©çº¿ä¸‹æ–¹çš„åŒºåŸŸï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿä¼ ç»Ÿå‡ ä½•æ–¹æ³•å¤±æ•ˆäº†ï¼Œè¿™å°±å¼•å‡ºäº†æˆ‘ä»¬ä»Šå¤©çš„ä¸»é¢˜ã€‚",
            "3": "é¢å¯¹ä¸è§„åˆ™çš„â€œæ›²â€ï¼Œäººç±»æœ€å¤è€ä¹Ÿæœ€æ™ºæ…§çš„æƒ³æ³•ï¼Œå°±æ˜¯ç”¨è§„åˆ™çš„â€œç›´â€å»è¿‘ä¼¼å®ƒã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªæ›²è¾¹å›¾å½¢ï¼Œåˆ‡æˆå¾ˆå¤šä¸ªæˆ‘ä»¬ç†Ÿæ‚‰çš„å°çŸ©å½¢ï¼ŒæŠŠè¿™äº›å°çŸ©å½¢çš„é¢ç§¯åŠ èµ·æ¥ï¼Œä¸å°±å¾—åˆ°äº†ä¸€ä¸ªè¿‘ä¼¼å€¼å—ï¼Ÿ",
            "4": "è¿™ä¸ªä¼Ÿå¤§çš„æ€æƒ³ï¼Œå¯ä»¥è¢«ç²¾ç¡®åœ°æè¿°ä¸ºå››æ­¥ã€‚ç¬¬ä¸€æ­¥ï¼Œå«åšâ€œåˆ†å‰²â€ã€‚æˆ‘ä»¬æŠŠå›¾å½¢çš„åº•è¾¹ï¼Œä¹Ÿå°±æ˜¯ç§¯åˆ†åŒºé—´ï¼Œä»aåˆ°bï¼Œä»»æ„åœ°åˆ‡å‰²æˆnä¸ªå°æ®µã€‚",
            "5": "ç¬¬äºŒæ­¥ï¼Œå«åšâ€œè¿‘ä¼¼â€ã€‚åœ¨æ¯ä¸€ä¸ªå°æ®µä¸Šï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªé«˜åº¦ä¸ºå‡½æ•°å€¼çš„å°çŸ©å½¢ï¼Œæ¥è¿‘ä¼¼ä»£æ›¿åŸæ¥é‚£å—çª„çª„çš„æ›²è¾¹å›¾å½¢ã€‚è¿™ä¸ªå°çŸ©å½¢çš„é¢ç§¯ï¼Œå°±æ˜¯é«˜ä¹˜ä»¥å®½ã€‚",
            "6": "ç¬¬ä¸‰æ­¥ï¼Œå«åšâ€œæ±‚å’Œâ€ã€‚æˆ‘ä»¬æŠŠåˆšæ‰å»ºç«‹çš„æ‰€æœ‰å°çŸ©å½¢çš„é¢ç§¯ï¼Œä¸€ä¸ªä¸€ä¸ªåœ°åŠ èµ·æ¥ã€‚å¾—åˆ°çš„è¿™ä¸ªæ€»å’Œï¼Œåœ¨æ•°å­¦ä¸Šè¢«ç§°ä¸ºâ€œé»æ›¼å’Œâ€ï¼Œå®ƒå°±æ˜¯æˆ‘ä»¬å¯¹æ€»é¢ç§¯çš„è¿‘ä¼¼ä¼°ç®—ã€‚æ˜¾ç„¶ï¼ŒçŸ©å½¢è¶Šå¤šï¼Œä¼°ç®—å°±è¶Šå‡†ã€‚",
            "7.": "æœ€å…³é”®çš„ç¬¬å››æ­¥æ¥äº†â€”â€”â€œå–æé™â€ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬è®©åˆ†å‰²æ— é™åœ°åŠ ç»†ï¼Œè®©æ¯ä¸ªå°çŸ©å½¢çš„å®½åº¦éƒ½è¶‹å‘äº0ã€‚é‚£ä¹ˆï¼Œè¿™äº›çŸ©å½¢é¢ç§¯æ€»å’Œçš„æé™ï¼Œå°±ç­‰äºæ›²è¾¹æ¢¯å½¢ç²¾ç¡®çš„ã€çœŸå®çš„é¢ç§¯ã€‚",
            "8": "æŠŠè¿™å››æ­¥åˆåœ¨ä¸€èµ·ï¼Œå°±æ„æˆäº†å®šç§¯åˆ†çš„ä¸¥æ ¼æ•°å­¦å®šä¹‰ã€‚å®šç§¯åˆ†ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯æˆ‘ä»¬åˆšæ‰æè¿°çš„é‚£ä¸ªé»æ›¼å’Œï¼Œåœ¨åˆ†å‰²æ— é™ç»†çš„æƒ…å†µä¸‹æ‰€å–çš„æé™ã€‚å®ƒä»£è¡¨äº†ä¸€ç§â€œæ— é™æ±‚å’Œâ€çš„æ€æƒ³ã€‚",
            "9": "æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®šç§¯åˆ†çš„ç¬¦å·ã€‚è¿™ä¸ªæ‹‰é•¿çš„Så°±æ˜¯ç§¯åˆ†å·ï¼Œä»£è¡¨æ±‚å’Œã€‚aå’Œbæ˜¯ç§¯åˆ†çš„ä¸‹é™å’Œä¸Šé™ã€‚f(x)æ˜¯è¢«ç§¯å‡½æ•°ï¼Œä»£è¡¨æ¯ä¸ªå°çŸ©å½¢çš„é«˜ã€‚è€Œdxï¼Œåˆ™ä»£è¡¨äº†æ— é™å°çš„å®½åº¦ã€‚",
            "10": "é‚£ä¹ˆï¼Œå®šç§¯åˆ†çš„å‡ ä½•æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå½“è¢«ç§¯å‡½æ•°f(x)å§‹ç»ˆåœ¨xè½´ä¸Šæ–¹æ—¶ï¼Œå®ƒçš„å®šç§¯åˆ†ï¼Œå°±ç²¾ç¡®åœ°ç­‰äºè¿™ä¸ªå‡½æ•°å›¾åƒä¸‹æ–¹çš„æ›²è¾¹æ¢¯å½¢çš„é¢ç§¯ã€‚è¿™æ­£æ˜¯æˆ‘ä»¬ä¸€å¼€å§‹æƒ³è¦è§£å†³çš„é—®é¢˜ã€‚",
            "11": "é‚£å¦‚æœå‡½æ•°å›¾åƒæœ‰ä¸Šæœ‰ä¸‹ï¼Œç©¿è¿‡äº†xè½´å‘¢ï¼Ÿå®šç§¯åˆ†æ˜¯ä¸€ä¸ªæ›´å¹¿ä¹‰çš„æ¦‚å¿µã€‚å®ƒä¼šæŠŠxè½´ä¸Šæ–¹çš„é¢ç§¯ç®—ä½œæ­£æ•°ï¼ŒæŠŠxè½´ä¸‹æ–¹çš„é¢ç§¯ç®—ä½œè´Ÿæ•°ã€‚æ‰€ä»¥ï¼Œå®šç§¯åˆ†çš„å‡ ä½•æ„ä¹‰ï¼Œæ˜¯é¢ç§¯çš„â€œä»£æ•°å’Œâ€ï¼Œæˆ–è€…å«â€œå‡€é¢ç§¯â€ã€‚",
            "12": "å®šç§¯åˆ†åœ¨ç°å®ä¸–ç•Œä¸­æ— å¤„ä¸åœ¨ã€‚æ¯”å¦‚åœ¨ç‰©ç†å­¦ä¸­ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“è·¯ç¨‹ç­‰äºé€Ÿåº¦ä¹˜ä»¥æ—¶é—´ã€‚ä½†å¦‚æœé€Ÿåº¦æ˜¯éšæ—¶å˜åŒ–çš„å‘¢ï¼Ÿæ€»è·¯ç¨‹ï¼Œå°±æ˜¯å¯¹é€Ÿåº¦å‡½æ•°v(t)ä»èµ·ç‚¹åˆ°ç»ˆç‚¹æ—¶é—´çš„å®šç§¯åˆ†ã€‚å®ƒç´¯åŠ äº†æ¯ä¸€ä¸ªç¬é—´æ‰€èµ°è¿‡çš„å¾®å°è·¯ç¨‹ã€‚",
            "13": "å®šç§¯åˆ†ä¹Ÿæ»¡è¶³ä¸€äº›éå¸¸ç›´è§‚çš„æ€§è´¨ã€‚æ¯”å¦‚ï¼Œä»aåˆ°açš„ç§¯åˆ†ï¼Œå› ä¸ºåŒºé—´é•¿åº¦æ˜¯0ï¼Œæ‰€ä»¥ç§¯åˆ†å€¼è‡ªç„¶å°±æ˜¯0ã€‚å¦å¤–ï¼Œå¦‚æœæˆ‘ä»¬äº¤æ¢ç§¯åˆ†çš„ä¸Šä¸‹é™ï¼Œç§¯åˆ†å€¼å°±ä¼šå˜ä¸€ä¸ªç¬¦å·ã€‚",
            "14": "å’Œå¯¼æ•°ä¸€æ ·ï¼Œå®šç§¯åˆ†ä¹Ÿæ»¡è¶³çº¿æ€§æ€§è´¨ï¼Œå’Œçš„ç§¯åˆ†ç­‰äºç§¯åˆ†çš„å’Œï¼Œå¸¸æ•°å› å­ä¹Ÿå¯ä»¥æå‡ºå»ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜å…·æœ‰åŒºé—´å¯åŠ æ€§ï¼Œä»aåˆ°bçš„ç§¯åˆ†ï¼Œç­‰äºä»aåˆ°cå†ä»cåˆ°bçš„ç§¯åˆ†ä¹‹å’Œã€‚",
            "15": "ç°åœ¨æˆ‘ä»¬ç†è§£äº†å®šç§¯åˆ†â€œæ˜¯ä»€ä¹ˆâ€ï¼Œä½†è¿˜æœ‰ä¸€ä¸ªå…³é”®é—®é¢˜ï¼šæ€ä¹ˆè®¡ç®—å®ƒå‘¢ï¼Ÿéš¾é“æ¯æ¬¡éƒ½è¦å»æ±‚é‚£ä¸ªå¤æ‚çš„æé™å—ï¼Ÿå¹¸è¿çš„æ˜¯ï¼Œç‰›é¡¿å’Œè±å¸ƒå°¼èŒ¨å‘ç°çš„â€œå¾®ç§¯åˆ†åŸºæœ¬å®šç†â€ï¼Œä¸ºæˆ‘ä»¬æ¶èµ·äº†ä¸€åº§ä»ä¸å®šç§¯åˆ†åˆ°å®šç§¯åˆ†çš„æ¡¥æ¢ã€‚æˆ‘ä»¬ä¸‹ä¸€èŠ‚è¯¾ï¼Œå°±æ¥å­¦ä¹ è¿™ä¸ªå¼ºå¤§çš„è®¡ç®—å·¥å…·ã€‚",
            "16": "å¥½äº†ï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ä»Šå¤©çš„å†…å®¹ã€‚å®šç§¯åˆ†çš„æ ¸å¿ƒæ€æƒ³ï¼Œæ˜¯â€œåˆ†å‰²ã€è¿‘ä¼¼ã€æ±‚å’Œã€å–æé™â€è¿™å››æ­¥æ›²ã€‚å®ƒçš„æœ¬è´¨æ˜¯é»æ›¼å’Œçš„æé™ï¼Œå‡ ä½•æ„ä¹‰æ˜¯é¢ç§¯çš„ä»£æ•°å’Œï¼Œå¹¶ä¸”åœ¨ç‰©ç†ç­‰é¢†åŸŸæœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚è°¢è°¢å¤§å®¶ï¼"
        };
        const actionMap = {
            "1": "A_RLH_welcome_O", "2": "A_RH_point_O", "3": "A_LH_introduced_O", "4": "A_RH_point_O",
            "5": "A_LH_introduced_O", "6": "A_RH_point_O", "7": "A_LH_introduced_O", "8": "A_RH_point_O",
            "9": "A_LH_introduced_O", "10": "A_RH_point_O", "11": "A_LH_introduced_O", "12": "A_RH_point_O",
            "13": "A_LH_introduced_O", "14": "A_RH_point_O", "15": "A_LH_introduced_O", "16": "A_RLH_welcome_O"
        };

        let currentSlide = 0;
        const totalSlides = 16;
        let avatarPlatform = null;
        let isConnected = false;
        let isTeaching = false;
        let isAutoPlaying = false;
        let speechFinishedResolve = null;
        const slides = document.querySelectorAll('.slide');

        function showSlide(index) {
            slides.forEach((slide, i) => slide.classList.toggle('active', i === index));
            currentSlide = index;
            document.getElementById('currentSlide').textContent = index + 1;
            if (window.MathJax && window.MathJax.typesetPromise) {
                window.MathJax.typesetPromise([slides[index]]).catch(err => console.error('MathJax æ¸²æŸ“å¤±è´¥:', err));
            }
            document.getElementById('prevBtn').disabled = index === 0;
            document.getElementById('nextBtn').disabled = index === totalSlides - 1;
            updateSubtitle(index + 1);
        }

        function nextSlide() { if (currentSlide < totalSlides - 1) { showSlide(currentSlide + 1); if (!isAutoPlaying) speakContent(currentSlide + 1); } }
        function previousSlide() { if (currentSlide > 0) { showSlide(currentSlide - 1); if (!isAutoPlaying) speakContent(currentSlide + 1); } }
        function restart() { showSlide(0); if (avatarPlatform) { avatarPlatform.stop(); } isConnected = false; isTeaching = false; isAutoPlaying = false; document.getElementById('autoPlayBtn').disabled = false; }
        function updateSubtitle(slideNum) { const subtitleArea = document.getElementById('subtitleArea'); subtitleArea.textContent = subtitleScript[slideNum] || ''; }

        async function speakContent(slideNum) {
            if (!isTeaching || !isConnected || !avatarPlatform) { console.log('âš ï¸ è™šæ‹Ÿäººæœªè¿æ¥æˆ–æœªå¼€å§‹è®²è¯¾'); return; }
            const content = speechScript[slideNum];
            if (!content) return;
            try {
                const action = actionMap[slideNum];
                if (action) { await avatarPlatform.writeCmd("action", action); }
                await avatarPlatform.writeText(content, { nlp: false });
                updateSubtitle(slideNum);
            } catch (error) { console.error('âŒ è®²è§£å¤±è´¥:', error); }
        }

        function getSlideDuration(slideNum) { const speech = speechScript[slideNum]; if (!speech) return 5000; return speech.length * 120 + 2000; }
        function updateStatus(message, type = 'normal') { const indicator = document.getElementById('statusIndicator'); if (indicator) { indicator.textContent = message; indicator.className = 'status-indicator'; if (type === 'connected') indicator.classList.add('connected'); else if (type === 'error') indicator.classList.add('error'); else if (type === 'connecting') indicator.classList.add('connecting'); } }

        function waitForSDK() {
            return new Promise((resolve, reject) => {
                if (window.AvatarPlatform) { resolve(); return; }
                const timeout = setTimeout(() => { reject(new Error('SDKåŠ è½½è¶…æ—¶')); }, 10000);
                window.addEventListener('sdkReady', function handler() { clearTimeout(timeout); window.removeEventListener('sdkReady', handler); resolve(); });
            });
        }

        async function startTeaching() {
            const startBtn = document.getElementById('startBtn');
            startBtn.textContent = 'ğŸ”„ å¯åŠ¨ä¸­...';
            startBtn.disabled = true;
            try {
                updateStatus('ç­‰å¾…SDK...', 'connecting');
                // await waitForSDK(); // Enable this if you have the SDK locally
                if(typeof AvatarPlatform === 'undefined') {
                    console.warn("è™šæ‹ŸäººSDK (AvatarPlatform) æœªæ‰¾åˆ°, å°†æ— æ³•æ’­æ”¾è¯­éŸ³å’ŒåŠ¨ä½œã€‚");
                    updateStatus('SDKæœªåŠ è½½', 'error');
                    startBtn.textContent = 'âŒ SDKæœªåŠ è½½';
                    return;
                }
                
                if(avatarPlatform) { avatarPlatform.destroy(); }
                avatarPlatform = new AvatarPlatform({ useInlinePlayer: true });

                avatarPlatform.on('connected', () => {
                    isConnected = true; isTeaching = true; updateStatus('å·²è¿æ¥', 'connected');
                    startBtn.textContent = 'ğŸ’– è™šæ‹Ÿäººå·²å°±ç»ª';
                    setTimeout(() => speakContent(currentSlide + 1), 1000);
                }).on('disconnected', () => {
                    isConnected = false; updateStatus('è¿æ¥æ–­å¼€', 'error');
                }).on('error', (error) => {
                    console.error('âŒ é”™è¯¯:', error); updateStatus('é”™è¯¯', 'error');
                    startBtn.textContent = 'âŒ è¿æ¥å¤±è´¥'; startBtn.disabled = false; isTeaching = false;
                }).on('frame_stop', () => {
                    if (isAutoPlaying && speechFinishedResolve) { speechFinishedResolve(); speechFinishedResolve = null; }
                });
                
                avatarPlatform.setApiInfo({ appId: 'e8c180ed', apiKey: 'e0c44f0e2ef0f47582ffa7e864da0d9b', apiSecret: 'MDZkNDNiZWU4NDkzNWM5MDQzMTY4N2Nh', sceneId: '237415046114840576', serverUrl: 'wss://avatar.cn-huadong-1.xf-yun.com/v1/interact' });
                avatarPlatform.setGlobalParams({ stream: { protocol: 'xrtc', alpha: 1, bitrate: 1000000, fps: 25 }, avatar: { avatar_id: '110332017', width: 1920, height: 1080 }, tts: { vcn: 'x4_yiting', speed: 50, pitch: 50, volume: 100 } });
                await avatarPlatform.start({ wrapper: document.getElementById('avatarWrapper') });
            } catch (error) {
                console.error('âŒ å¯åŠ¨å¤±è´¥:', error); updateStatus('å¯åŠ¨å¤±è´¥', 'error');
                startBtn.textContent = 'ğŸ€ å¼€å§‹è®²è¯¾'; startBtn.disabled = false;
            }
        }

        async function startAutoPlay() {
            if (!isTeaching || !isConnected) { alert("è¯·å…ˆç‚¹å‡»â€œå¼€å§‹è®²è¯¾â€å¹¶ç­‰å¾…è¿æ¥æˆåŠŸã€‚"); return; }
            isAutoPlaying = true;
            document.getElementById('autoPlayBtn').disabled = true;
            try {
                for (let i = currentSlide; i < totalSlides; i++) {
                    if (!isAutoPlaying) break;
                    showSlide(i);
                    const speechPromise = new Promise(resolve => { speechFinishedResolve = resolve; });
                    await speakContent(i + 1);
                    const timeoutPromise = new Promise(resolve => setTimeout(resolve, getSlideDuration(i + 1) + 2000));
                    await Promise.race([speechPromise, timeoutPromise]);
                    await new Promise(resolve => setTimeout(resolve, 1500));
                }
            } catch (error) { console.error('âŒ è‡ªåŠ¨æ’­æ”¾å¤±è´¥:', error); }
            finally {
                isAutoPlaying = false; document.getElementById('autoPlayBtn').disabled = false;
                window.playbackFinished = true; document.title = "PLAYBACK_FINISHED"; console.log('ğŸ‰ æ’­æ”¾å®Œæˆ');
            }
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); nextSlide(); }
            else if (e.key === 'ArrowLeft') { e.preventDefault(); previousSlide(); }
        });

        document.getElementById('totalSlides').textContent = totalSlides;
        showSlide(0);
    </script>
</body>
</html>