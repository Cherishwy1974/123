<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬09ç«  äºŒé‡ç§¯åˆ†çš„æ¦‚å¿µä¸å‡ ä½•æ„ä¹‰</title>
    <link rel="stylesheet" href="./noto-serif-sc.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Serif SC', 'Source Han Serif SC', 'Songti SC', 'SimSun', serif;
            background: #1a1a2e;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }

        .blackboard {
            width: 100vw;
            height: 100vh;
            background: #1a1a2e;
            position: relative;
            display: flex;
        }

        .page {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
            padding: 30px;
            display: flex;
        }

        .page.active {
            opacity: 1;
            visibility: visible;
        }

        .left-panel {
            width: 35%;
            height: 100%;
            padding: 30px;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .right-panel {
            width: 65%;
            height: 100%;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: visible;
        }

        .chalk-text {
            color: #ffffff;
            font-size: 16px;
            font-weight: normal;
            letter-spacing: 0.5px;
            line-height: 1.5;
        }

        .title {
            font-size: 24px;
            margin-bottom: 20px;
            text-align: center;
            color: #e1bee7;
        }

        .emphasis {
            color: #FF6B6B;
            font-size: 18px;
        }

        .formula-box {
            background: rgba(255,224,102,0.1);
            padding: 15px;
            border-radius: 8px;
            border: 2px dashed rgba(255,224,102,0.4);
            margin: 15px 0;
            text-align: center;
        }

        .chalk-list {
            list-style: none;
            padding-left: 0;
            margin: 15px 0;
        }

        .chalk-list li {
            position: relative;
            padding-left: 20px;
            margin: 10px 0;
            font-size: 16px;
        }

        .chalk-list li::before {
            content: "â€¢";
            position: absolute;
            left: 0;
            color: #FFE066;
        }

        .svg-animation {
            width: 100%;
            height: auto;
            max-width: none;
            max-height: none;
            transform: translateX(-70px) scale(2);
            transform-origin: left center;
        }

        .page-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            color: #FFE066;
            font-size: 16px;
            z-index: 100;
        }

        .small-text {
            font-size: 14px;
            color: rgba(255,255,255,0.8);
        }

        .mjx-chtml {
            color: #ffffff !important;
            font-size: 16px !important;
        }

        .status-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            background: rgba(0,0,0,0.5);
            color: white;
            border-radius: 5px;
            font-size: 12px;
            z-index: 100;
            display: none !important;
        }

        .avatar-container {
            position: fixed;
            top: 60%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 750px;
            height: 850px;
            overflow: hidden;
            z-index: 50;
            pointer-events: none;
            background: transparent;
        }
        
        .wrapper { 
            width: 100%; 
            height: 100%; 
            background: transparent; 
            pointer-events: auto; 
        }

        .subtitle-area {
            position: absolute;
            bottom: 8px;
            left: 20px;
            right: 20px;
            min-height: 36px;
            background: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 14px;
            text-align: center;
            padding: 0 16px;
            z-index: 110;
            text-shadow: 0 0 6px rgba(0,0,0,0.9), 0 0 3px rgba(0,0,0,0.7);
            pointer-events: none;
        }

        .control-bar {
            position: fixed;
            left: -240px;
            top: 50%;
            transform: translateY(-50%);
            width: 270px;
            height: auto;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 12px;
            z-index: 200;
            border-radius: 0 20px 20px 0;
            padding: 25px 20px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .control-bar:hover { 
            left: 0; 
            box-shadow: 0 12px 40px rgba(0,0,0,0.3); 
        }
        
        .control-bar::before {
            content: 'â–¶ï¸';
            position: absolute;
            top: 50%;
            right: -30px;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 12px 8px;
            border-radius: 0 15px 15px 0;
            font-size: 0.9rem;
            writing-mode: vertical-lr;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #333;
        }
        
        .btn {
            padding: 14px 22px;
            background: rgba(255, 255, 255, 0.25);
            color: #333;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            width: 100%;
            text-align: center;
            backdrop-filter: blur(5px);
            text-shadow: 0 1px 2px rgba(255,255,255,0.3);
        }
        
        .btn:hover { 
            background: rgba(255, 255, 255, 0.35); 
            transform: translateY(-3px); 
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2); 
        }
        
        .btn.primary { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: #fff; 
            text-shadow: 0 1px 2px rgba(0,0,0,0.3); 
        }
        
        .btn.primary:hover { 
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%); 
            box-shadow: 0 8px 25px rgba(102,126,234,0.4); 
        }

        .recording-mode .control-bar {
            left: -300px;
            transition: left 0.5s ease;
        }
    </style>
    
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\(', '\)']],
                displayMath: [['$$', '$$'], ['\[', '\]']],
                packages: ['base', 'ams']
            },
            startup: {
                pageReady: () => {
                    console.log('MathJax is ready.');
                    return MathJax.startup.defaultPageReady();
                }
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <div class="blackboard">
        <div id="statusIndicator" class="status-indicator">ç­‰å¾…è¿æ¥</div>
        <div class="avatar-container">
            <div class="wrapper" id="avatarWrapper"></div>
        </div>
        <div class="page-indicator">ç¬¬ <span id="currentPage">1</span> / 6 é¡µ</div>
        
        <!-- ç¬¬1é¡µï¼šäºŒé‡ç§¯åˆ†çš„å¼•å…¥ -->
        <div class="page active" id="page1">
            <div class="left-panel">
                <h1 class="title chalk-text">äºŒé‡ç§¯åˆ†çš„å¼•å…¥</h1>
                <div class="board-content">
                    <p class="chalk-text emphasis">ä»ä¸€é‡ç§¯åˆ†åˆ°äºŒé‡ç§¯åˆ†</p>
                    <p class="chalk-text">ä¸€é‡ç§¯åˆ†ï¼šæ±‚æ›²è¾¹æ¢¯å½¢çš„é¢ç§¯</p>
                    <div class="formula-box">
                        <p class="chalk-text">$$\int_a^b f(x)dx$$</p>
                    </div>
                    <p class="chalk-text">äºŒé‡ç§¯åˆ†ï¼šæ±‚æ›²é¡¶æŸ±ä½“çš„ä½“ç§¯</p>
                    <div class="formula-box">
                        <p class="chalk-text">$$\iint_D f(x,y)dxdy$$</p>
                    </div>
                    <p class="chalk-text emphasis">å®é™…é—®é¢˜</p>
                    <ul class="chalk-list">
                        <li class="chalk-text">è®¡ç®—ä¸è§„åˆ™ç‰©ä½“çš„ä½“ç§¯</li>
                        <li class="chalk-text">è®¡ç®—å¹³é¢è–„æ¿çš„è´¨é‡</li>
                        <li class="chalk-text">è®¡ç®—åŒºåŸŸçš„é¢ç§¯</li>
                    </ul>
                </div>
            </div>
            <div class="right-panel">
                <div class="animation-container">
                    <svg class="svg-animation" viewBox="0 0 700 600">
                        <!-- æ»¤é•œå®šä¹‰ -->
                        <defs>
                            <filter id="glow09_1">
                                <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                                <feMerge>
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>

                        <!-- 3Dåæ ‡ç³» - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <line x1="350" y1="400" x2="150" y2="500" stroke="#FFE066" stroke-width="2" filter="url(#glow09_1)"/>
                        <line x1="350" y1="400" x2="550" y2="500" stroke="#FFE066" stroke-width="2" filter="url(#glow09_1)"/>
                        <line x1="350" y1="400" x2="350" y2="150" stroke="#FFE066" stroke-width="2" filter="url(#glow09_1)"/>
                        <text x="130" y="510" fill="#FFE066" font-size="16" font-weight="bold" filter="url(#glow09_1)">x</text>
                        <text x="570" y="510" fill="#FFE066" font-size="16" font-weight="bold" filter="url(#glow09_1)">y</text>
                        <text x="360" y="140" fill="#FFE066" font-size="16" font-weight="bold" filter="url(#glow09_1)">z</text>

                        <!-- åº•é¢åŒºåŸŸD - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <ellipse cx="350" cy="420" rx="120" ry="40" fill="rgba(78,205,196,0.3)" stroke="#4ECDC4" stroke-width="3" filter="url(#glow09_1)">
                            <animate attributeName="fill-opacity" values="0.3;0.5;0.3" dur="3s" repeatCount="indefinite"/>
                        </ellipse>
                        <text x="350" y="430" fill="#4ECDC4" font-size="18" font-weight="bold" text-anchor="middle" filter="url(#glow09_1)">D</text>

                        <!-- æ›²é¢ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <path d="M 230 350 Q 350 280, 470 350" fill="rgba(255,107,107,0.4)" stroke="#FF6B6B" stroke-width="3" filter="url(#glow09_1)">
                            <animate attributeName="fill-opacity" values="0.4;0.6;0.4" dur="3s" repeatCount="indefinite"/>
                        </path>
                        <text x="350" y="300" fill="#FF6B6B" font-size="16" font-weight="bold" text-anchor="middle" filter="url(#glow09_1)">z=f(x,y)</text>

                        <!-- ä¾§é¢ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <path d="M 230 420 L 230 350 Q 350 280, 470 350 L 470 420" fill="rgba(255,224,102,0.2)" stroke="#FFE066" stroke-width="2" filter="url(#glow09_1)"/>

                        <!-- æ ‡æ³¨ - æ·»åŠ ç²—ä½“å’Œå‘å…‰ -->
                        <text x="350" y="50" fill="#ffffff" font-size="20" font-weight="bold" text-anchor="middle" filter="url(#glow09_1)">æ›²é¡¶æŸ±ä½“</text>
                        <text x="350" y="520" fill="#ffffff" font-size="18" font-weight="bold" text-anchor="middle" filter="url(#glow09_1)">
                            äºŒé‡ç§¯åˆ†æ±‚ä½“ç§¯
                        </text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- ç¬¬2é¡µï¼šäºŒé‡ç§¯åˆ†çš„å®šä¹‰ -->
        <div class="page" id="page2">
            <div class="left-panel">
                <h1 class="title chalk-text">äºŒé‡ç§¯åˆ†çš„å®šä¹‰</h1>
                <div class="board-content">
                    <p class="chalk-text emphasis">å®šä¹‰æ­¥éª¤</p>
                    <ul class="chalk-list">
                        <li class="chalk-text"><strong>åˆ†å‰²ï¼š</strong>å°†åŒºåŸŸDåˆ†æˆnä¸ªå°åŒºåŸŸ</li>
                        <li class="chalk-text"><strong>è¿‘ä¼¼ï¼š</strong>æ¯ä¸ªå°åŒºåŸŸç”¨å°æŸ±ä½“è¿‘ä¼¼</li>
                        <li class="chalk-text"><strong>æ±‚å’Œï¼š</strong>æ‰€æœ‰å°æŸ±ä½“ä½“ç§¯ç›¸åŠ </li>
                        <li class="chalk-text"><strong>å–æé™ï¼š</strong>åˆ†å‰²è¶Šæ¥è¶Šç»†</li>
                    </ul>
                    <div class="formula-box">
                        <p class="chalk-text">$$\iint_D f(x,y)dxdy = \lim_{n \to \infty} \sum_{i=1}^n f(\xi_i, \eta_i)\Delta\sigma_i$$</p>
                    </div>
                    <p class="chalk-text small-text">$\Delta\sigma_i$ æ˜¯ç¬¬iä¸ªå°åŒºåŸŸçš„é¢ç§¯</p>
                </div>
            </div>
            <div class="right-panel">
                <div class="animation-container">
                    <svg class="svg-animation" viewBox="0 0 700 600">
                        <!-- æ»¤é•œå®šä¹‰ -->
                        <defs>
                            <filter id="glow09_2">
                                <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                                <feMerge>
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>

                        <!-- åŒºåŸŸåˆ†å‰² - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <ellipse cx="350" cy="300" rx="150" ry="100" fill="rgba(78,205,196,0.2)" stroke="#4ECDC4" stroke-width="3" filter="url(#glow09_2)"/>

                        <!-- ç½‘æ ¼åˆ†å‰² - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <line x1="200" y1="200" x2="200" y2="400" stroke="#FFE066" stroke-width="1" opacity="0.5" filter="url(#glow09_2)"/>
                        <line x1="275" y1="200" x2="275" y2="400" stroke="#FFE066" stroke-width="1" opacity="0.5" filter="url(#glow09_2)"/>
                        <line x1="350" y1="200" x2="350" y2="400" stroke="#FFE066" stroke-width="1" opacity="0.5" filter="url(#glow09_2)"/>
                        <line x1="425" y1="200" x2="425" y2="400" stroke="#FFE066" stroke-width="1" opacity="0.5" filter="url(#glow09_2)"/>
                        <line x1="500" y1="200" x2="500" y2="400" stroke="#FFE066" stroke-width="1" opacity="0.5" filter="url(#glow09_2)"/>

                        <line x1="200" y1="220" x2="500" y2="220" stroke="#FFE066" stroke-width="1" opacity="0.5" filter="url(#glow09_2)"/>
                        <line x1="200" y1="270" x2="500" y2="270" stroke="#FFE066" stroke-width="1" opacity="0.5" filter="url(#glow09_2)"/>
                        <line x1="200" y1="320" x2="500" y2="320" stroke="#FFE066" stroke-width="1" opacity="0.5" filter="url(#glow09_2)"/>
                        <line x1="200" y1="370" x2="500" y2="370" stroke="#FFE066" stroke-width="1" opacity="0.5" filter="url(#glow09_2)"/>

                        <!-- é«˜äº®ä¸€ä¸ªå°åŒºåŸŸ - æ·»åŠ åœ†è§’å’Œå‘å…‰ -->
                        <rect x="275" y="270" width="75" height="50" rx="3" fill="rgba(255,107,107,0.5)" stroke="#FF6B6B" stroke-width="3" filter="url(#glow09_2)">
                            <animate attributeName="fill-opacity" values="0.5;0.8;0.5" dur="2s" repeatCount="indefinite"/>
                        </rect>
                        <text x="312" y="300" fill="#FF6B6B" font-size="14" font-weight="bold" text-anchor="middle" filter="url(#glow09_2)">Î”Ïƒáµ¢</text>

                        <!-- æ ‡æ³¨ - æ·»åŠ ç²—ä½“å’Œå‘å…‰ -->
                        <text x="350" y="50" fill="#ffffff" font-size="20" font-weight="bold" text-anchor="middle" filter="url(#glow09_2)">åˆ†å‰²åŒºåŸŸD</text>
                        <text x="350" y="520" fill="#4ECDC4" font-size="18" font-weight="bold" text-anchor="middle" filter="url(#glow09_2)">
                            åˆ†å‰²â†’è¿‘ä¼¼â†’æ±‚å’Œâ†’å–æé™
                        </text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- ç¬¬3é¡µï¼šå‡ ä½•æ„ä¹‰ -->
        <div class="page" id="page3">
            <div class="left-panel">
                <h1 class="title chalk-text">äºŒé‡ç§¯åˆ†çš„å‡ ä½•æ„ä¹‰</h1>
                <div class="board-content">
                    <p class="chalk-text emphasis">å½“ $f(x,y) \geq 0$ æ—¶</p>
                    <div class="formula-box">
                        <p class="chalk-text">$$\iint_D f(x,y)dxdy = æ›²é¡¶æŸ±ä½“çš„ä½“ç§¯$$</p>
                    </div>
                    <p class="chalk-text emphasis">ç‰¹æ®Šæƒ…å†µ</p>
                    <ul class="chalk-list">
                        <li class="chalk-text">$f(x,y) = 1$ï¼šåŒºåŸŸDçš„é¢ç§¯</li>
                        <li class="chalk-text">$f(x,y) = \rho(x,y)$ï¼šè–„æ¿çš„è´¨é‡</li>
                        <li class="chalk-text">$f(x,y) < 0$ï¼šä½“ç§¯å–è´Ÿå€¼</li>
                    </ul>
                    <p class="chalk-text small-text">äºŒé‡ç§¯åˆ†æ˜¯ä¸€é‡ç§¯åˆ†åœ¨äºŒç»´çš„æ¨å¹¿</p>
                </div>
            </div>
            <div class="right-panel">
                <div class="animation-container">
                    <svg class="svg-animation" viewBox="0 0 700 600">
                        <!-- æ»¤é•œå’Œæ¸å˜å®šä¹‰ -->
                        <defs>
                            <filter id="glow09_3">
                                <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                                <feMerge>
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                            <linearGradient id="surfaceGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#FF6B6B;stop-opacity:0.8"/>
                                <stop offset="100%" style="stop-color:#FF6B6B;stop-opacity:0.3"/>
                            </linearGradient>
                        </defs>

                        <!-- åº•é¢ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <ellipse cx="350" cy="420" rx="130" ry="50" fill="rgba(78,205,196,0.4)" stroke="#4ECDC4" stroke-width="3" filter="url(#glow09_3)"/>

                        <!-- ä¾§é¢ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <path d="M 220 420 L 220 320 Q 350 250, 480 320 L 480 420" fill="rgba(255,224,102,0.3)" stroke="#FFE066" stroke-width="2" filter="url(#glow09_3)"/>

                        <!-- é¡¶é¢ï¼ˆæ›²é¢ï¼‰ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <ellipse cx="350" cy="320" rx="130" ry="50" fill="url(#surfaceGrad)" stroke="#FF6B6B" stroke-width="3" filter="url(#glow09_3)">
                            <animate attributeName="ry" values="50;55;50" dur="3s" repeatCount="indefinite"/>
                        </ellipse>

                        <!-- é«˜åº¦æ ‡æ³¨ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <line x1="500" y1="420" x2="500" y2="320" stroke="#FFE066" stroke-width="3" stroke-dasharray="5,5" filter="url(#glow09_3)"/>
                        <text x="510" y="370" fill="#FFE066" font-size="16" font-weight="bold" filter="url(#glow09_3)">h=f(x,y)</text>

                        <!-- ä½“ç§¯æ ‡æ³¨ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <text x="350" y="370" fill="#ffffff" font-size="20" text-anchor="middle" font-weight="bold" filter="url(#glow09_3)">V</text>

                        <!-- æ ‡æ³¨ - æ·»åŠ ç²—ä½“å’Œå‘å…‰ -->
                        <text x="350" y="50" fill="#FF6B6B" font-size="20" font-weight="bold" text-anchor="middle" filter="url(#glow09_3)">ä½“ç§¯ = âˆ¬f(x,y)dxdy</text>
                        <text x="350" y="520" fill="#4ECDC4" font-size="18" font-weight="bold" text-anchor="middle" filter="url(#glow09_3)">
                            æ›²é¡¶æŸ±ä½“çš„ä½“ç§¯
                        </text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- ç¬¬4é¡µï¼šäºŒé‡ç§¯åˆ†çš„æ€§è´¨ -->
        <div class="page" id="page4">
            <div class="left-panel">
                <h1 class="title chalk-text">äºŒé‡ç§¯åˆ†çš„æ€§è´¨</h1>
                <div class="board-content">
                    <p class="chalk-text emphasis">çº¿æ€§æ€§è´¨</p>
                    <div class="formula-box">
                        <p class="chalk-text">$$\iint_D [af(x,y) + bg(x,y)]dxdy$$</p>
                        <p class="chalk-text">$$= a\iint_D f(x,y)dxdy + b\iint_D g(x,y)dxdy$$</p>
                    </div>
                    <p class="chalk-text emphasis">åŒºåŸŸå¯åŠ æ€§</p>
                    <div class="formula-box">
                        <p class="chalk-text">$$\iint_{D_1+D_2} f(x,y)dxdy = \iint_{D_1} f(x,y)dxdy + \iint_{D_2} f(x,y)dxdy$$</p>
                    </div>
                    <p class="chalk-text emphasis">æ¯”è¾ƒæ€§è´¨</p>
                    <ul class="chalk-list">
                        <li class="chalk-text">è‹¥ $f(x,y) \leq g(x,y)$ï¼Œåˆ™ç§¯åˆ†å€¼ä¹Ÿæ»¡è¶³ä¸ç­‰å¼</li>
                    </ul>
                </div>
            </div>
            <div class="right-panel">
                <div class="animation-container">
                    <svg class="svg-animation" viewBox="0 0 700 600">
                        <!-- æ»¤é•œå®šä¹‰ -->
                        <defs>
                            <filter id="glow09_4">
                                <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                                <feMerge>
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>

                        <!-- åŒºåŸŸå¯åŠ æ€§ç¤ºæ„ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <circle cx="280" cy="300" r="80" fill="rgba(78,205,196,0.4)" stroke="#4ECDC4" stroke-width="3" filter="url(#glow09_4)">
                            <animate attributeName="fill-opacity" values="0.4;0.6;0.4" dur="3s" repeatCount="indefinite"/>
                        </circle>
                        <text x="280" y="305" fill="#4ECDC4" font-size="20" text-anchor="middle" font-weight="bold" filter="url(#glow09_4)">Dâ‚</text>

                        <circle cx="420" cy="300" r="80" fill="rgba(255,107,107,0.4)" stroke="#FF6B6B" stroke-width="3" filter="url(#glow09_4)">
                            <animate attributeName="fill-opacity" values="0.4;0.6;0.4" dur="3s" begin="1s" repeatCount="indefinite"/>
                        </circle>
                        <text x="420" y="305" fill="#FF6B6B" font-size="20" text-anchor="middle" font-weight="bold" filter="url(#glow09_4)">Dâ‚‚</text>

                        <!-- åŠ å· - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <text x="350" y="310" fill="#FFE066" font-size="30" text-anchor="middle" font-weight="bold" filter="url(#glow09_4)">+</text>

                        <!-- ç­‰å·å’Œç»“æœ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <text x="350" y="150" fill="#FFE066" font-size="24" text-anchor="middle" font-weight="bold" filter="url(#glow09_4)">=</text>

                        <ellipse cx="350" cy="200" rx="140" ry="70" fill="rgba(255,224,102,0.3)" stroke="#FFE066" stroke-width="3" filter="url(#glow09_4)">
                            <animate attributeName="fill-opacity" values="0.3;0.5;0.3" dur="3s" begin="2s" repeatCount="indefinite"/>
                        </ellipse>
                        <text x="350" y="205" fill="#FFE066" font-size="20" text-anchor="middle" font-weight="bold" filter="url(#glow09_4)">Dâ‚+Dâ‚‚</text>

                        <!-- æ ‡æ³¨ - æ·»åŠ ç²—ä½“å’Œå‘å…‰ -->
                        <text x="350" y="480" fill="#ffffff" font-size="20" font-weight="bold" text-anchor="middle" filter="url(#glow09_4)">åŒºåŸŸå¯åŠ æ€§</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- ç¬¬5é¡µï¼šä¾‹é¢˜ -->
        <div class="page" id="page5">
            <div class="left-panel">
                <h1 class="title chalk-text">ä¾‹é¢˜ï¼šä¼°è®¡ç§¯åˆ†å€¼</h1>
                <div class="board-content">
                    <p class="chalk-text emphasis">é¢˜ç›®</p>
                    <p class="chalk-text">ä¼°è®¡ $\iint_D (x^2+y^2)dxdy$ çš„å€¼ï¼Œå…¶ä¸­Dæ˜¯å•ä½åœ†ã€‚</p>
                    <p class="chalk-text emphasis">è§£ç­”</p>
                    <ul class="chalk-list">
                        <li class="chalk-text">åœ¨å•ä½åœ†å†…ï¼š$0 \leq x^2+y^2 \leq 1$</li>
                        <li class="chalk-text">åŒºåŸŸDçš„é¢ç§¯ï¼š$\pi \cdot 1^2 = \pi$</li>
                        <li class="chalk-text">ç”±æ¯”è¾ƒæ€§è´¨ï¼š</li>
                    </ul>
                    <div class="formula-box">
                        <p class="chalk-text">$$0 \leq \iint_D (x^2+y^2)dxdy \leq \pi$$</p>
                    </div>
                    <p class="chalk-text small-text">å®é™…å€¼çº¦ä¸º $\frac{\pi}{2}$</p>
                </div>
            </div>
            <div class="right-panel">
                <div class="animation-container">
                    <svg class="svg-animation" viewBox="0 0 700 600">
                        <!-- æ»¤é•œå®šä¹‰ -->
                        <defs>
                            <filter id="glow09_5">
                                <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                                <feMerge>
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>

                        <!-- åæ ‡ç³» - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <line x1="100" y1="300" x2="600" y2="300" stroke="#FFE066" stroke-width="2" filter="url(#glow09_5)"/>
                        <line x1="350" y1="100" x2="350" y2="500" stroke="#FFE066" stroke-width="2" filter="url(#glow09_5)"/>

                        <!-- å•ä½åœ† - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <circle cx="350" cy="300" r="150" fill="rgba(78,205,196,0.3)" stroke="#4ECDC4" stroke-width="4" filter="url(#glow09_5)">
                            <animate attributeName="fill-opacity" values="0.3;0.5;0.3" dur="3s" repeatCount="indefinite"/>
                        </circle>
                        <text x="350" y="305" fill="#4ECDC4" font-size="20" text-anchor="middle" font-weight="bold" filter="url(#glow09_5)">D</text>

                        <!-- åŠå¾„æ ‡æ³¨ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <line x1="350" y1="300" x2="500" y2="300" stroke="#FF6B6B" stroke-width="3" filter="url(#glow09_5)"/>
                        <text x="425" y="290" fill="#FF6B6B" font-size="16" font-weight="bold" filter="url(#glow09_5)">r=1</text>

                        <!-- å‡½æ•°å€¼ç¤ºæ„ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <circle cx="350" cy="300" r="5" fill="#FFE066" filter="url(#glow09_5)"/>
                        <text x="360" y="295" fill="#FFE066" font-size="14" font-weight="bold" filter="url(#glow09_5)">(0,0): f=0</text>

                        <circle cx="500" cy="300" r="5" fill="#FFE066" filter="url(#glow09_5)"/>
                        <text x="510" y="295" fill="#FFE066" font-size="14" font-weight="bold" filter="url(#glow09_5)">(1,0): f=1</text>

                        <!-- æ ‡æ³¨ - æ·»åŠ ç²—ä½“å’Œå‘å…‰ -->
                        <text x="350" y="50" fill="#ffffff" font-size="20" font-weight="bold" text-anchor="middle" filter="url(#glow09_5)">å•ä½åœ†ä¸Šçš„ç§¯åˆ†</text>
                        <text x="350" y="520" fill="#4ECDC4" font-size="18" font-weight="bold" text-anchor="middle" filter="url(#glow09_5)">
                            0 â‰¤ ç§¯åˆ†å€¼ â‰¤ Ï€
                        </text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- ç¬¬6é¡µï¼šæ€»ç»“ -->
        <div class="page" id="page6">
            <div class="left-panel">
                <h1 class="title chalk-text">æ€»ç»“</h1>
                <div class="board-content">
                    <p class="chalk-text emphasis">æ ¸å¿ƒæ¦‚å¿µ</p>
                    <ul class="chalk-list">
                        <li class="chalk-text">äºŒé‡ç§¯åˆ†æ˜¯ä¸€é‡ç§¯åˆ†çš„æ¨å¹¿</li>
                        <li class="chalk-text">å‡ ä½•æ„ä¹‰ï¼šæ›²é¡¶æŸ±ä½“çš„ä½“ç§¯</li>
                        <li class="chalk-text">å®šä¹‰ï¼šåˆ†å‰²â†’è¿‘ä¼¼â†’æ±‚å’Œâ†’å–æé™</li>
                    </ul>
                    <p class="chalk-text emphasis">é‡è¦æ€§è´¨</p>
                    <ul class="chalk-list">
                        <li class="chalk-text">çº¿æ€§æ€§è´¨</li>
                        <li class="chalk-text">åŒºåŸŸå¯åŠ æ€§</li>
                        <li class="chalk-text">æ¯”è¾ƒæ€§è´¨</li>
                    </ul>
                    <p class="chalk-text emphasis">ä¸‹ä¸€æ­¥</p>
                    <p class="chalk-text">å­¦ä¹ å¦‚ä½•è®¡ç®—äºŒé‡ç§¯åˆ†</p>
                </div>
            </div>
            <div class="right-panel">
                <div class="animation-container">
                    <svg class="svg-animation" viewBox="0 0 700 600">
                        <!-- æ»¤é•œå®šä¹‰ -->
                        <defs>
                            <filter id="glow09_6">
                                <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                                <feMerge>
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>

                        <!-- çŸ¥è¯†æ ‘ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <circle cx="350" cy="150" r="70" fill="rgba(255,224,102,0.3)" stroke="#FFE066" stroke-width="4" filter="url(#glow09_6)">
                            <animate attributeName="r" values="70;80;70" dur="3s" repeatCount="indefinite"/>
                        </circle>
                        <text x="350" y="145" fill="#FFE066" font-size="18" text-anchor="middle" font-weight="bold" filter="url(#glow09_6)">äºŒé‡ç§¯åˆ†</text>
                        <text x="350" y="165" fill="#FFE066" font-size="14" font-weight="bold" text-anchor="middle" filter="url(#glow09_6)">æ¦‚å¿µ</text>

                        <!-- ä¸‰ä¸ªåˆ†æ”¯ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <line x1="280" y1="200" x2="200" y2="300" stroke="#4ECDC4" stroke-width="3" filter="url(#glow09_6)"/>
                        <circle cx="200" cy="300" r="55" fill="rgba(78,205,196,0.3)" stroke="#4ECDC4" stroke-width="3" filter="url(#glow09_6)">
                            <animate attributeName="fill-opacity" values="0.3;0.6;0.3" dur="3s" repeatCount="indefinite"/>
                        </circle>
                        <text x="200" y="295" fill="#ffffff" font-size="14" font-weight="bold" text-anchor="middle">å®šä¹‰</text>
                        <text x="200" y="315" fill="#ffffff" font-size="12" font-weight="bold" text-anchor="middle">å››æ­¥æ³•</text>

                        <line x1="350" y1="220" x2="350" y2="300" stroke="#FF6B6B" stroke-width="3" filter="url(#glow09_6)"/>
                        <circle cx="350" cy="300" r="55" fill="rgba(255,107,107,0.3)" stroke="#FF6B6B" stroke-width="3" filter="url(#glow09_6)">
                            <animate attributeName="fill-opacity" values="0.3;0.6;0.3" dur="3s" begin="1s" repeatCount="indefinite"/>
                        </circle>
                        <text x="350" y="295" fill="#ffffff" font-size="14" font-weight="bold" text-anchor="middle">å‡ ä½•</text>
                        <text x="350" y="315" fill="#ffffff" font-size="12" font-weight="bold" text-anchor="middle">æ„ä¹‰</text>

                        <line x1="420" y1="200" x2="500" y2="300" stroke="#9370DB" stroke-width="3" filter="url(#glow09_6)"/>
                        <circle cx="500" cy="300" r="55" fill="rgba(147,112,219,0.3)" stroke="#9370DB" stroke-width="3" filter="url(#glow09_6)">
                            <animate attributeName="fill-opacity" values="0.3;0.6;0.3" dur="3s" begin="2s" repeatCount="indefinite"/>
                        </circle>
                        <text x="500" y="295" fill="#ffffff" font-size="14" font-weight="bold" text-anchor="middle">æ€§è´¨</text>
                        <text x="500" y="315" fill="#ffffff" font-size="12" font-weight="bold" text-anchor="middle">ä¸‰å¤§æ€§è´¨</text>

                        <!-- ä¸‹ä¸€æ­¥ - æ·»åŠ å‘å…‰æ•ˆæœ -->
                        <rect x="250" y="400" width="200" height="60" fill="rgba(255,224,102,0.3)" stroke="#FFE066" stroke-width="3" rx="10" filter="url(#glow09_6)">
                            <animate attributeName="fill-opacity" values="0.3;0.5;0.3" dur="3s" begin="3s" repeatCount="indefinite"/>
                        </rect>
                        <text x="350" y="435" fill="#ffffff" font-size="16" font-weight="bold" text-anchor="middle" filter="url(#glow09_6)">ä¸‹ä¸€æ­¥ï¼šè®¡ç®—æ–¹æ³•</text>

                        <!-- æ ‡æ³¨ - æ·»åŠ ç²—ä½“å’Œå‘å…‰ -->
                        <text x="350" y="520" fill="#ffffff" font-size="20" font-weight="bold" text-anchor="middle" filter="url(#glow09_6)">
                            äºŒé‡ç§¯åˆ†çŸ¥è¯†ä½“ç³»
                        </text>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <!-- æ§åˆ¶æ  -->
    <div class="control-bar">
        <button class="btn" onclick="previousPage()">â¬…ï¸ ä¸Šä¸€é¡µ</button>
        <button class="btn primary" onclick="nextPage()">ä¸‹ä¸€é¡µ â¡ï¸</button>
        <button class="btn" onclick="startTeaching()">ğŸ¤ å¼€å§‹è®²è§£</button>
        <button class="btn" id="autoPlayBtn" onclick="startAutoPlay()">ğŸ¬ è‡ªåŠ¨æ’­æ”¾</button>
    </div>

    <!-- å­—å¹•åŒºåŸŸ -->
    <div class="subtitle-area" id="subtitleArea"></div>

    <script>
        let currentPage = 1;
        const totalPages = 6;
        let avatarPlatform = null;
        let isConnected = false;
        let isAutoPlaying = false;

        const pageContents = [
            "äºŒé‡ç§¯åˆ†æ˜¯ä¸€é‡ç§¯åˆ†åœ¨äºŒç»´çš„æ¨å¹¿ã€‚ä¸€é‡ç§¯åˆ†æ±‚æ›²è¾¹æ¢¯å½¢çš„é¢ç§¯ï¼ŒäºŒé‡ç§¯åˆ†æ±‚æ›²é¡¶æŸ±ä½“çš„ä½“ç§¯ã€‚å®ƒå¯ä»¥ç”¨æ¥è®¡ç®—ä¸è§„åˆ™ç‰©ä½“çš„ä½“ç§¯ã€å¹³é¢è–„æ¿çš„è´¨é‡ç­‰å®é™…é—®é¢˜ã€‚",
            "äºŒé‡ç§¯åˆ†çš„å®šä¹‰åˆ†å››æ­¥ï¼šåˆ†å‰²åŒºåŸŸDæˆnä¸ªå°åŒºåŸŸï¼Œç”¨å°æŸ±ä½“è¿‘ä¼¼æ¯ä¸ªå°åŒºåŸŸï¼Œæ‰€æœ‰å°æŸ±ä½“ä½“ç§¯ç›¸åŠ ï¼Œæœ€åå½“åˆ†å‰²è¶Šæ¥è¶Šç»†æ—¶å–æé™ã€‚",
            "äºŒé‡ç§¯åˆ†çš„å‡ ä½•æ„ä¹‰æ˜¯æ›²é¡¶æŸ±ä½“çš„ä½“ç§¯ã€‚å½“f(x,y)å¤§äºç­‰äº0æ—¶ï¼ŒäºŒé‡ç§¯åˆ†ç­‰äºæ›²é¡¶æŸ±ä½“çš„ä½“ç§¯ã€‚ç‰¹æ®Šåœ°ï¼Œå½“fç­‰äº1æ—¶ï¼Œç§¯åˆ†å€¼å°±æ˜¯åŒºåŸŸDçš„é¢ç§¯ã€‚",
            "äºŒé‡ç§¯åˆ†æœ‰ä¸‰ä¸ªé‡è¦æ€§è´¨ï¼šçº¿æ€§æ€§è´¨ã€åŒºåŸŸå¯åŠ æ€§å’Œæ¯”è¾ƒæ€§è´¨ã€‚åŒºåŸŸå¯åŠ æ€§æ˜¯æŒ‡æ•´ä¸ªåŒºåŸŸçš„ç§¯åˆ†ç­‰äºå„éƒ¨åˆ†åŒºåŸŸç§¯åˆ†ä¹‹å’Œã€‚",
            "ä¾‹é¢˜ï¼šä¼°è®¡å•ä½åœ†ä¸Šxå¹³æ–¹åŠ yå¹³æ–¹çš„äºŒé‡ç§¯åˆ†ã€‚åœ¨å•ä½åœ†å†…ï¼Œxå¹³æ–¹åŠ yå¹³æ–¹çš„å€¼åœ¨0åˆ°1ä¹‹é—´ï¼ŒåŒºåŸŸé¢ç§¯æ˜¯Ï€ï¼Œæ‰€ä»¥ç§¯åˆ†å€¼åœ¨0åˆ°Ï€ä¹‹é—´ã€‚",
            "æ€»ç»“ï¼šäºŒé‡ç§¯åˆ†çš„æ ¸å¿ƒæ˜¯åˆ†å‰²ã€è¿‘ä¼¼ã€æ±‚å’Œã€å–æé™å››æ­¥æ³•ã€‚å‡ ä½•æ„ä¹‰æ˜¯æ›²é¡¶æŸ±ä½“çš„ä½“ç§¯ã€‚æŒæ¡äº†æ¦‚å¿µå’Œæ€§è´¨åï¼Œä¸‹ä¸€æ­¥æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•è®¡ç®—äºŒé‡ç§¯åˆ†ã€‚"
        ];

        const autoPlayDurations = {
            1: 12000,
            2: 12000,
            3: 12000,
            4: 12000,
            5: 12000,
            6: 10000
        };

        function switchToPage(pageNum) {
            if (pageNum < 1 || pageNum > totalPages) return;

            const pages = document.querySelectorAll('.page');
            pages.forEach((page, index) => {
                if (index + 1 === pageNum) {
                    page.classList.add('active');
                } else {
                    page.classList.remove('active');
                }
            });

            currentPage = pageNum;
            document.getElementById('currentPage').textContent = pageNum;

            if (window.MathJax && window.MathJax.typesetPromise) {
                window.MathJax.typesetPromise();
            }
        }

        function nextPage() {
            if (currentPage < totalPages) {
                switchToPage(currentPage + 1);
            }
        }

        function previousPage() {
            if (currentPage > 1) {
                switchToPage(currentPage - 1);
            }
        }

        async function startTeaching() {
            console.log('å¼€å§‹è®²è§£');
        }

        async function startAutoPlay() {
            console.log('è‡ªåŠ¨æ’­æ”¾');
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextPage();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                previousPage();
            }
        });

        let wheelTimeout;
        document.addEventListener('wheel', (e) => {
            clearTimeout(wheelTimeout);
            wheelTimeout = setTimeout(() => {
                if (e.deltaY > 0) {
                    nextPage();
                } else if (e.deltaY < 0) {
                    previousPage();
                }
            }, 50);
        }, { passive: true });

        document.addEventListener('DOMContentLoaded', () => {
            switchToPage(1);
        });
    </script>
</body>
</html>

